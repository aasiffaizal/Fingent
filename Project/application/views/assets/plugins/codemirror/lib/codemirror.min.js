// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE

// This is CodeMirror (http://codemirror.net), a code editor
// implemented in JavaScript on top of the browser's DOM.
//
// You can find some technical background for some of the code below
// at http://marijnhaverbeke.nl/blog/#cm-internals .

(function(aa){if("object"==typeof exports&&"object"==typeof module)module.bf=aa();else{if("function"==typeof define&&define.we)return define([],aa);this.ic=aa()}})(function(){function aa(a){a.select()}function m(a,b){if(!(this instanceof m))return new m(a,b);this.options=b=b||{};Ta(Le,b,!1);kc(b);var c=b.value;"string"==typeof c&&(c=new Q(c,b.mode));this.d=c;var d=this.display=new Me(a,c);d.p.ic=this;jd(this);kd(this);b.B&&(this.display.p.className+=" CodeMirror-wrap");b.autofocus&&!lc&&O(this);this.state=
{Kd:[],Ic:[],Vb:0,Xa:!1,P:!1,tb:!1,na:!1,Cb:!1,ya:!1,Cd:new mc};ba&&setTimeout(U(ca,this,!0),20);Ne(this);ld||(Oe(),ld=!0);var e=this;Ba(this,function(){e.i.Na=!0;var a=c;if(a.g)throw Error("This document is already in use.");e.d=a;a.g=e;nc(e);oc(e);e.options.B||pc(e);e.options.mode=a.Ua;V(e);b.autofocus&&!lc||oa()==d.input?setTimeout(U(qc,e),20):tb(e);for(var g in ub)if(ub.hasOwnProperty(g))ub[g](e,b[g],md);for(a=0;a<rc.length;++a)rc[a](e)})}function Me(a,b){var c=this.input=q("textarea",null,null,
"position: absolute; padding: 0; width: 1px; height: 1em; outline: none");M?c.style.width="1000px":c.setAttribute("wrap","off");Ua&&(c.style.border="1px solid black");c.setAttribute("autocorrect","off");c.setAttribute("autocapitalize","off");c.setAttribute("spellcheck","false");this.da=q("div",[c],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");this.v=q("div",[q("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");this.w=q("div",[q("div",null,null,"min-width: 1px")],
"CodeMirror-vscrollbar");this.Da=q("div",null,"CodeMirror-scrollbar-filler");this.Aa=q("div",null,"CodeMirror-gutter-filler");this.$=q("div",null,"CodeMirror-code");this.bc=q("div",null,null,"position: relative; z-index: 1");this.qa=q("div",null,"CodeMirror-cursors");this.m=q("div",null,"CodeMirror-measure");this.Rb=q("div",null,"CodeMirror-measure");this.L=q("div",[this.m,this.Rb,this.bc,this.qa,this.$],null,"position: relative; outline: none");this.Va=q("div",[q("div",[this.L],"CodeMirror-lines")],
null,"position: relative");this.Q=q("div",[this.Va],"CodeMirror-sizer");this.Lb=q("div",null,null,"position: absolute; height: "+ia+"px; width: 1px;");this.r=q("div",null,"CodeMirror-gutters");this.mb=null;this.h=q("div",[this.Q,this.Lb,this.r],"CodeMirror-scroll");this.h.setAttribute("tabIndex","-1");this.p=q("div",[this.da,this.v,this.w,this.Da,this.Aa,this.h],"CodeMirror");Va&&(this.r.style.zIndex=-1,this.h.style.paddingRight=0);Ua&&(c.style.width="0px");M||(this.h.draggable=!0);sc&&(this.da.style.height=
"1px",this.da.style.position="absolute");Va&&(this.v.style.minHeight=this.w.style.minWidth="18px");a.appendChild?a.appendChild(this.p):a(this.p);this.q=this.n=b.first;this.view=[];this.ja=null;this.Ec=this.ua=0;this.Tb=this.nb=this.Sb=this.$a=null;this.ga="";this.Ya=this.Xc=!1;this.Xb=new mc;this.Ga=this.wa=this.Ha=null;this.Nb=!1;this.ea=null;this.ta=0;this.sa=!1;this.ab=this.bb=this.oa=this.wb=null;this.shift=!1;this.Ea=null}function oc(a){a.d.mode=m.Kb(a.options,a.d.Ua);Wa(a)}function Wa(a){a.d.C(function(a){a.T&&
(a.T=null);a.N&&(a.N=null)});a.d.H=a.d.first;Xa(a,100);a.state.Vb++;a.i&&V(a)}function nd(a){var b=Ca(a.display),c=a.options.B,d=c&&Math.max(5,a.display.h.clientWidth/vb(a.display)-3);return function(e){if(Ya(a.d,e))return 0;var f=0;if(e.J)for(var g=0;g<e.J.length;g++)e.J[g].height&&(f+=e.J[g].height);return c?f+(Math.ceil(e.text.length/d)||1)*b:f+b}}function nc(a){var b=a.d,c=nd(a);b.C(function(a){var b=c(a);b!=a.height&&pa(a,b)})}function od(a){var b=da[a.options.Qa].style;a.display.p.className=
a.display.p.className.replace(/\s*cm-keymap-\S+/g,"")+(b?" cm-keymap-"+b:"")}function kd(a){a.display.p.className=a.display.p.className.replace(/\s*cm-s-\S+/g,"")+a.options.Dg.replace(/(^|\s)\s*/g," cm-s-");wb(a)}function Za(a){jd(a);V(a);setTimeout(function(){tc(a)},20)}function jd(a){var b=a.display.r,c=a.options.r;qa(b);for(var d=0;d<c.length;++d){var e=c[d],f=b.appendChild(q("div",null,"CodeMirror-gutter "+e));"CodeMirror-linenumbers"==e&&(a.display.mb=f,f.style.width=(a.display.Tb||1)+"px")}b.style.display=
d?"":"none";uc(a)}function uc(a){var b=a.display.r.offsetWidth;a.display.Q.style.marginLeft=b+"px";a.display.v.style.left=a.options.Ma?b+"px":0}function xb(a){if(0==a.height)return 0;for(var b=a.text.length,c,d=a;c=ra(d,!0);)c=c.find(0,!0),d=c.b.a,b+=c.b.ch-c.c.ch;for(d=a;c=ra(d,!1);)c=c.find(0,!0),b-=d.text.length-c.b.ch,d=c.c.a,b+=d.text.length-c.c.ch;return b}function pc(a){var b=a.display;a=a.d;b.ea=s(a,a.first);b.ta=xb(b.ea);b.sa=!0;a.C(function(a){var d=xb(a);d>b.ta&&(b.ta=d,b.ea=a)})}function kc(a){var b=
E(a.r,"CodeMirror-linenumbers");-1==b&&a.Ta?a.r=a.r.concat(["CodeMirror-linenumbers"]):-1<b&&!a.Ta&&(a.r=a.r.slice(0),a.r.splice(b,1))}function pd(a){var b=a.display.h,c=a.display;return{clientHeight:b.clientHeight,Yc:a.display.w.clientHeight,scrollWidth:b.scrollWidth,clientWidth:b.clientWidth,Zc:a.display.v.clientWidth,Ka:Math.round(a.d.height+(c.Va.offsetHeight-c.L.offsetHeight))}}function yb(a,b){b||(b=pd(a));var c=a.display,d=b.Ka+ia,e=b.scrollWidth>b.clientWidth,f=d>b.clientHeight;f?(c.w.style.display=
"block",c.w.style.bottom=e?$a(c.m)+"px":"0",c.w.firstChild.style.height=Math.max(0,d-b.clientHeight+(b.Yc||c.w.clientHeight))+"px"):(c.w.style.display="",c.w.firstChild.style.height="0");e?(c.v.style.display="block",c.v.style.right=f?$a(c.m)+"px":"0",c.v.firstChild.style.width=b.scrollWidth-b.clientWidth+(b.Zc||c.v.clientWidth)+"px"):(c.v.style.display="",c.v.firstChild.style.width="0");e&&f?(c.Da.style.display="block",c.Da.style.height=c.Da.style.width=$a(c.m)+"px"):c.Da.style.display="";e&&a.options.He&&
a.options.Ma?(c.Aa.style.display="block",c.Aa.style.height=$a(c.m)+"px",c.Aa.style.width=c.r.offsetWidth+"px"):c.Aa.style.display="";!a.state.cd&&0<b.clientHeight&&(0===$a(c.m)&&(c.w.style.minWidth=c.v.style.minHeight=ea&&!Pe?"12px":"18px",d=function(b){(b.target||b.srcElement)!=c.w&&(b.target||b.srcElement)!=c.v&&A(a,qd)(b)},u(c.w,"mousedown",d),u(c.v,"mousedown",d)),a.state.cd=!0)}function vc(a,b,c){var d=c&&null!=c.top?Math.max(0,c.top):a.h.scrollTop,d=Math.floor(d-a.L.offsetTop),e=Da(b,d),d=Da(b,
c&&null!=c.bottom?c.bottom:d+a.p.clientHeight);if(c&&c.Gb){var f=c.Gb.b.a;c=c.Gb.c.a;if(f<e)return{b:f,c:Da(b,sa(s(b,f))+a.p.clientHeight)};if(Math.min(c,b.Z())>=d)return{b:Da(b,sa(s(b,c))-a.p.clientHeight),c:c}}return{b:e,c:Math.max(d,e+1)}}function tc(a){var b=a.display,c=b.view;if(b.Xc||b.r.firstChild&&a.options.Ma){for(var d=wc(b)-b.h.scrollLeft+a.d.scrollLeft,e=b.r.offsetWidth,f=d+"px",g=0;g<c.length;g++)if(!c[g].hidden){a.options.Ma&&c[g].za&&(c[g].za.style.left=f);var h=c[g].cb;if(h)for(var k=
0;k<h.length;k++)h[k].style.left=f}a.options.Ma&&(b.r.style.left=d+e+"px")}}function xc(a,b){return String(a.bg(b+a.hf))}function wc(a){return a.h.getBoundingClientRect().left-a.Q.getBoundingClientRect().left}function zb(a,b,c){for(var d=a.display.q,e=a.display.n,f,g=vc(a.display,a.d,b),h=!0;;h=!1){var k=a.display.h.clientWidth,l;a:{l=a;var n=g,r=c;c=l.display;var t=l.d;if(!c.p.offsetWidth)ja(l);else if(!(!r&&n.b>=c.q&&n.c<=c.n&&0==rd(l))){var y;y=l;if(y.options.Ta){var F=y.d,F=xc(y.options,F.first+
F.size-1),G=y.display;if(F.length!=G.Sb){var p=G.m.appendChild(q("div",[q("div",F)],"CodeMirror-linenumber CodeMirror-gutter-elt")),m=p.firstChild.offsetWidth,p=p.offsetWidth-m;G.mb.style.width="";G.nb=Math.max(m,G.mb.offsetWidth-p);G.Tb=G.nb+p;G.Sb=G.nb?F.length:-1;G.mb.style.width=G.Tb+"px";uc(y);y=!0}else y=!1}else y=!1;y&&ja(l);y=sd(l);m=t.first+t.size;F=Math.max(n.b-l.options.ee,t.first);G=Math.min(m,n.c+l.options.ee);c.q<F&&20>F-c.q&&(F=Math.max(t.first,c.q));c.n>G&&20>c.n-G&&(G=Math.min(m,
c.n));ka&&(F=yc(l.d,F),G=td(l.d,G));n=F!=c.q||G!=c.n||c.Ec!=c.p.clientHeight;t=l;m=t.display;0==m.view.length||F>=m.n||G<=m.q?(m.view=Ab(t,F,G),m.q=F):(m.q>F?m.view=Ab(t,F,m.q).concat(m.view):m.q<F&&(m.view=m.view.slice(ab(t,F))),m.q=F,m.n<G?m.view=m.view.concat(Ab(t,m.n,G)):m.n>G&&(m.view=m.view.slice(0,ab(t,G))));m.n=G;c.ua=sa(s(l.d,c.q));l.display.Va.style.top=c.ua+"px";t=rd(l);if(n||0!=t||r){r=oa();4<t&&(c.$.style.display="none");Qe(l,c.$a,y);4<t&&(c.$.style.display="");r&&oa()!=r&&r.offsetHeight&&
r.focus();qa(c.qa);qa(c.bc);n&&(c.Ec=c.p.clientHeight,Xa(l,400));l=l.display;c=l.$.offsetTop;for(r=0;r<l.view.length;r++)if(n=l.view[r],!n.hidden&&(Va?(y=n.t.offsetTop+n.t.offsetHeight,t=y-c,c=y):(t=n.t.getBoundingClientRect(),t=t.bottom-t.top),y=n.a.height-t,2>t&&(t=Ca(l)),.001<y||-.001>y))if(pa(n.a,t),ud(n.a),n.D)for(t=0;t<n.D.length;t++)ud(n.D[t]);l=!0;break a}}l=void 0}if(!l)break;f=!0;a.display.sa&&!a.options.B&&(l=a,c=l.display,r=c.ea.text.length,r=zc(l,Bb(l,c.ea),r,void 0).left,c.sa=!1,r=Math.max(0,
r+3),n=Math.max(0,c.Q.offsetLeft+r+ia-c.h.clientWidth),c.Q.style.minWidth=r+"px",n<l.d.scrollLeft&&bb(l,Math.min(c.h.scrollLeft,n),!0));l=pd(a);Ac(a);c=a;r=l;c.display.Q.style.minHeight=c.display.Lb.style.top=r.Ka+"px";c.display.r.style.height=Math.max(r.Ka,r.clientHeight-ia)+"px";yb(a,l);M&&a.options.B&&(c=a,r=l,c.display.Q.offsetWidth+c.display.r.offsetWidth<c.display.h.clientWidth-1&&(c.display.Q.style.minHeight=c.display.Lb.style.top="0px",c.display.r.style.height=r.Ka+"px"));if(h&&a.options.B&&
k!=a.display.h.clientWidth)c=!0;else if(c=!1,b&&null!=b.top&&(b={top:Math.min(l.Ka-ia-l.clientHeight,b.top)}),g=vc(a.display,a.d,b),g.b>=a.display.q&&g.c<=a.display.n)break}a.display.$a=null;f&&(D(a,"update",a),a.display.q==d&&a.display.n==e||D(a,"viewportChange",a,a.display.q,a.display.n));return f}function ud(a){if(a.J)for(var b=0;b<a.J.length;++b)a.J[b].height=a.J[b].t.offsetHeight}function sd(a){for(var b=a.display,c={},d={},e=b.r.firstChild,f=0;e;e=e.nextSibling,++f)c[a.options.r[f]]=e.offsetLeft,
d[a.options.r[f]]=e.offsetWidth;return{wc:wc(b),ib:b.r.offsetWidth,Bc:c,Ad:d,ge:b.p.clientWidth}}function Qe(a,b,c){function d(b){var c=b.nextSibling;M&&ea&&a.display.hd==b?b.style.display="none":b.parentNode.removeChild(b);return c}for(var e=a.display,f=a.options.Ta,g=e.$,h=g.firstChild,k=e.view,e=e.q,l=0;l<k.length;l++){var n=k[l];if(!n.hidden)if(n.t){for(;h!=n.t;)h=d(h);h=f&&null!=b&&b<=e&&n.lineNumber;n.A&&(-1<E(n.A,"gutter")&&(h=!1),vd(a,n,e,c));h&&(qa(n.lineNumber),n.lineNumber.appendChild(document.createTextNode(xc(a.options,
e))));h=n.t.nextSibling}else{var r=Re(a,n,e,c);g.insertBefore(r,h)}e+=n.size}for(;h;)h=d(h)}function vd(a,b,c,d){for(var e=0;e<b.A.length;e++){var f=b.A[e];if("text"==f){var f=b,g=f.text.className,h=wd(a,f);f.text==f.t&&(f.t=h.fa);f.text.parentNode.replaceChild(h.fa,f.text);f.text=h.fa;h.G!=f.G||h.F!=f.F?(f.G=h.G,f.F=h.F,Bc(f)):g&&(f.text.className=g)}else if("gutter"==f)xd(a,b,c,d);else if("class"==f)Bc(b);else if("widget"==f){f=b;g=d;f.cb&&(f.cb=null);for(var h=f.t.firstChild,k=void 0;h;h=k)k=h.nextSibling,
"CodeMirror-linewidget"==h.className&&f.t.removeChild(h);yd(f,g)}}b.A=null}function Cb(a){a.t==a.text&&(a.t=q("div",null,null,"position: relative"),a.text.parentNode&&a.text.parentNode.replaceChild(a.t,a.text),a.t.appendChild(a.text),Va&&(a.t.style.zIndex=2));return a.t}function wd(a,b){var c=a.display.ja;return c&&c.a==b.a?(a.display.ja=null,b.m=c.m,c.ad):zd(a,b)}function Bc(a){var b=a.G?a.G+" "+(a.a.G||""):a.a.G;b&&(b+=" CodeMirror-linebackground");if(a.background)b?a.background.className=b:(a.background.parentNode.removeChild(a.background),
a.background=null);else if(b){var c=Cb(a);a.background=c.insertBefore(q("div",null,b),c.firstChild)}a.a.fe?Cb(a).className=a.a.fe:a.t!=a.text&&(a.t.className="");a.text.className=(a.F?a.F+" "+(a.a.F||""):a.a.F)||""}function xd(a,b,c,d){b.za&&(b.t.removeChild(b.za),b.za=null);var e=b.a.Jf;if(a.options.Ta||e){var f=Cb(b),f=b.za=f.insertBefore(q("div",null,"CodeMirror-gutter-wrapper","position: absolute; left: "+(a.options.Ma?d.wc:-d.ib)+"px"),b.text);!a.options.Ta||e&&e["CodeMirror-linenumbers"]||(b.lineNumber=
f.appendChild(q("div",xc(a.options,c),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+d.Bc["CodeMirror-linenumbers"]+"px; width: "+a.display.nb+"px")));if(e)for(b=0;b<a.options.r.length;++b){c=a.options.r[b];var g=e.hasOwnProperty(c)&&e[c];g&&f.appendChild(q("div",[g],"CodeMirror-gutter-elt","left: "+d.Bc[c]+"px; width: "+d.Ad[c]+"px"))}}}function Re(a,b,c,d){var e=wd(a,b);b.text=b.t=e.fa;e.G&&(b.G=e.G);e.F&&(b.F=e.F);Bc(b);xd(a,b,c,d);yd(b,d);return b.t}function yd(a,b){Ad(a.a,a,b,!0);if(a.D)for(var c=
0;c<a.D.length;c++)Ad(a.D[c],a,b,!1)}function Ad(a,b,c,d){if(a.J){var e=Cb(b),f=0;for(a=a.J;f<a.length;++f){var g=a[f],h=q("div",[g.t],"CodeMirror-linewidget");g.Bd||(h.Dc=!0);var k=g,l=h,n=c;if(k.Od){(b.cb||(b.cb=[])).push(l);var r=n.ge;l.style.left=n.wc+"px";k.gd||(r-=n.ib,l.style.paddingLeft=n.ib+"px");l.style.width=r+"px"}k.gd&&(l.style.zIndex=5,l.style.position="relative",k.Od||(l.style.marginLeft=-n.ib+"px"));d&&g.Vc?e.insertBefore(h,b.za||b.text):e.appendChild(h);D(g,"redraw")}}}function Cc(a){return p(a.a,
a.ch)}function Dc(a,b){return 0>w(a,b)?b:a}function Ec(a,b){return 0>w(a,b)?a:b}function fa(a,b){this.e=a;this.S=b}function B(a,b){this.anchor=a;this.head=b}function W(a,b){var c=a[b];a.sort(function(a,b){return w(a.b(),b.b())});b=E(a,c);for(c=1;c<a.length;c++){var d=a[c],e=a[c-1];if(0<=w(e.c(),d.b())){var f=Ec(e.b(),d.b()),g=Dc(e.c(),d.c()),d=e.empty()?d.b()==d.head:e.b()==e.head;c<=b&&--b;a.splice(--c,2,new B(d?g:f,d?f:g))}}return new fa(a,b)}function la(a,b){return new fa([new B(a,b||a)],0)}function x(a,
b){if(b.a<a.first)return p(a.first,0);var c=a.first+a.size-1;if(b.a>c)c=p(c,s(a,c).text.length);else var c=s(a,b.a).text.length,d=b.ch,c=null==d||d>c?p(b.a,c):0>d?p(b.a,0):b;return c}function Db(a,b){return b>=a.first&&b<a.first+a.size}function cb(a,b,c,d){return a.g&&a.g.display.shift||a.extend?(a=b.anchor,d&&(b=0>w(c,a),b!=0>w(d,a)?(a=c,c=d):b!=0>w(c,d)&&(c=d)),new B(a,c)):new B(d||c,c)}function Eb(a,b,c,d){C(a,new fa([cb(a,a.f.I(),b,c)],0),d)}function Bd(a,b,c){for(var d=[],e=0;e<a.f.e.length;e++)d[e]=
cb(a,a.f.e[e],b[e],null);b=W(d,a.f.S);C(a,b,c)}function Cd(a,b,c,d){var e=a.f.e.slice(0);e[b]=c;C(a,W(e,a.f.S),d)}function Se(a,b){var c={e:b.e,update:function(b){this.e=[];for(var c=0;c<b.length;c++)this.e[c]=new B(x(a,b[c].anchor),x(a,b[c].head))}};H(a,"beforeSelectionChange",a,c);a.g&&H(a.g,"beforeSelectionChange",a.g,c);return c.e!=b.e?W(c.e,c.e.length-1):b}function Dd(a,b){var c=a.history.o,d=z(c);d&&d.e?(c[c.length-1]=b,Fb(a,b,void 0)):C(a,b,void 0)}function C(a,b,c){Fb(a,b,c);b=a.f;var d=a.g?
a.g.i.id:NaN,e=a.history,f=c&&c.origin,g;if(!(g=d==e.Ba)&&(g=f&&e.Sa==f)&&!(g=e.Qb==e.lb&&e.Ra==f)){g=z(e.o);var h=f.charAt(0);g="*"==h||"+"==h&&g.e.length==b.e.length&&g.R()==b.R()&&new Date-a.history.lb<=(a.g?a.g.options.Dd:500)}g?e.o[e.o.length-1]=b:Gb(b,e.o);e.lb=+new Date;e.Sa=f;e.Ba=d;c&&!1!==c.ed&&Ed(e.O)}function Fb(a,b,c){if(R(a,"beforeSelectionChange")||a.g&&R(a.g,"beforeSelectionChange"))b=Se(a,b);var d=c&&c.ze||(0>w(b.I().head,a.f.I().head)?-1:1);Fd(a,Gd(a,b,d,!0));c&&!1===c.scroll||!a.g||
Ea(a.g)}function Fd(a,b){b.hb(a.f)||(a.f=b,a.g&&(a.g.i.vb=a.g.i.ac=!0,Hd(a.g)),D(a,"cursorActivity",a))}function Id(a){Fd(a,Gd(a,a.f,null,!1))}function Gd(a,b,c,d){for(var e,f=0;f<b.e.length;f++){var g=b.e[f],h=Hb(a,g.anchor,c,d),k=Hb(a,g.head,c,d);if(e||h!=g.anchor||k!=g.head)e||(e=b.e.slice(0,f)),e[f]=new B(h,k)}return e?W(e,b.S):b}function Hb(a,b,c,d){var e=!1,f=b,g=c||1;a.Ia=!1;a:for(;;){var h=s(a,f.a);if(h.s)for(var k=0;k<h.s.length;++k){var l=h.s[k],n=l.j;if((null==l.b||(n.V?l.b<=f.ch:l.b<f.ch))&&
(null==l.c||(n.W?l.c>=f.ch:l.c>f.ch))){if(d&&(H(n,"beforeCursorEnter"),n.La))if(h.s){--k;continue}else break;if(n.yb){k=n.find(0>g?-1:1);if(0==w(k,f)&&(k.ch+=g,0>k.ch?k=k.a>a.first?x(a,p(k.a-1)):null:k.ch>h.text.length&&(k=k.a<a.first+a.size-1?p(k.a+1,0):null),!k)){if(e){if(!d)return Hb(a,b,c,!0);a.Ia=!0;return p(a.first,0)}e=!0;k=b;g=-g}f=k;continue a}}}return f}}function Ac(a){for(var b=a.display,c=a.d,d=document.createDocumentFragment(),e=document.createDocumentFragment(),f=0;f<c.f.e.length;f++){var g=
c.f.e[f],h=g.empty();if(h||a.options.yg){var k=a,l=d,n=Fa(k,g.head,"div"),r=l.appendChild(q("div","\u00a0","CodeMirror-cursor"));r.style.left=n.left+"px";r.style.top=n.top+"px";r.style.height=Math.max(0,n.bottom-n.top)*k.options.Je+"px";n.Wa&&(k=l.appendChild(q("div","\u00a0","CodeMirror-cursor CodeMirror-secondarycursor")),k.style.display="",k.style.left=n.Wa.left+"px",k.style.top=n.Wa.top+"px",k.style.height=.85*(n.Wa.bottom-n.Wa.top)+"px")}h||Te(a,g,e)}a.options.lg&&(c=Fa(a,c.f.I().head,"div"),
f=b.p.getBoundingClientRect(),g=b.$.getBoundingClientRect(),a=Math.max(0,Math.min(b.p.clientHeight-10,c.top+g.top-f.top)),c=Math.max(0,Math.min(b.p.clientWidth-10,c.left+g.left-f.left)),b.da.style.top=a+"px",b.da.style.left=c+"px");X(b.qa,d);X(b.bc,e)}function Te(a,b,c){function d(a,b,c,d){0>b&&(b=0);b=Math.round(b);d=Math.round(d);h.appendChild(q("div",null,"CodeMirror-selected","position: absolute; left: "+a+"px; top: "+b+"px; width: "+(null==c?n-a:c)+"px; height: "+(d-b)+"px"))}function e(b,c,
e){var f=s(g,b),h=f.text.length,k,r;Ue(Y(f),c||0,null==e?h:e,function(g,m,q){var s=Ib(a,p(b,g),"div",f,"left"),u,v;g==m?(u=s,q=v=s.left):(u=Ib(a,p(b,m-1),"div",f,"right"),"rtl"==q&&(q=s,s=u,u=q),q=s.left,v=u.right);null==c&&0==g&&(q=l);3<u.top-s.top&&(d(q,s.top,null,s.bottom),q=l,s.bottom<u.top&&d(q,s.bottom,null,u.top));null==e&&m==h&&(v=n);if(!k||s.top<k.top||s.top==k.top&&s.left<k.left)k=s;if(!r||u.bottom>r.bottom||u.bottom==r.bottom&&u.right>r.right)r=u;q<l+1&&(q=l);d(q,u.top,v-q,u.bottom)});
return{start:k,end:r}}var f=a.display,g=a.d,h=document.createDocumentFragment(),k=Jd(a.display),l=k.left,n=f.L.offsetWidth-k.right,f=b.b();b=b.c();if(f.a==b.a)e(f.a,f.ch,b.ch);else{var r=s(g,f.a),k=s(g,b.a),k=Z(r)==Z(k),f=e(f.a,f.ch,k?r.text.length+1:null).end;b=e(b.a,k?0:null,b.ch).start;k&&(f.top<b.top-2?(d(f.right,f.top,null,f.bottom),d(l,b.top,b.left,b.bottom)):d(f.right,f.top,b.left-f.right,f.bottom));f.bottom<b.top&&d(l,f.bottom,null,b.top)}c.appendChild(h)}function Jb(a){if(a.state.P){var b=
a.display;clearInterval(b.kc);var c=!0;b.qa.style.visibility="";0<a.options.jd&&(b.kc=setInterval(function(){b.qa.style.visibility=(c=!c)?"":"hidden"},a.options.jd))}}function Xa(a,b){a.d.mode.sb&&a.d.H<a.display.n&&a.state.Cd.set(b,U(Ve,a))}function Ve(a){var b=a.d;b.H<b.first&&(b.H=b.first);if(!(b.H>=a.display.n)){var c=+new Date+a.options.Jg,d=db(b.mode,Kb(a,b.H));Ba(a,function(){b.C(b.H,Math.min(b.first+b.size,a.display.n+500),function(e){if(b.H>=a.display.q){var f=e.N,g=Kd(a,e,d,!0);e.N=g.N;
g.gb?e.aa=g.gb:e.aa&&(e.aa=null);for(var g=!f||f.length!=e.N.length,h=0;!g&&h<f.length;++h)g=f[h]!=e.N[h];g&&Ha(a,b.H,"text");e.T=db(b.mode,d)}else Fc(a,e.text,d),e.T=0==b.H%5?db(b.mode,d):null;++b.H;if(+new Date>c)return Xa(a,a.options.Ig),!0})})}}function We(a,b,c){for(var d,e,f=a.d,g=c?-1:b-(a.d.mode.ka?1E3:100);b>g;--b){if(b<=f.first)return f.first;var h=s(f,b-1);if(h.T&&(!c||b<=f.H))return b;h=ta(h.text,null,a.options.ha);if(null==e||d>h)e=b-1,d=h}return e}function Kb(a,b,c){var d=a.d,e=a.display;
if(!d.mode.sb)return!0;var f=We(a,b,c),g=f>d.first&&s(d,f-1).T,g=g?db(d.mode,g):Xe(d.mode);d.C(f,b,function(c){Fc(a,c.text,g);c.T=f==b-1||0==f%5||f>=e.q&&f<e.n?db(d.mode,g):null;++f});c&&(d.H=f);return g}function Jd(a){if(a.Ha)return a.Ha;var b=X(a.m,q("pre","x")),b=window.getComputedStyle?window.getComputedStyle(b):b.currentStyle,b={left:parseInt(b.paddingLeft),right:parseInt(b.paddingRight)};isNaN(b.left)||isNaN(b.right)||(a.Ha=b);return b}function Bb(a,b){var c=I(b),d;d=c>=a.display.q&&c<a.display.n?
a.display.view[ab(a,c)]:(d=a.display.ja)&&c>=d.K&&c<d.K+d.size?d:void 0;d&&!d.text?d=null:d&&d.A&&vd(a,d,c,sd(a));if(!d){var e;e=Z(b);d=I(e);e=a.display.ja=new Ld(a.d,e,d);e.K=d;d=e.ad=zd(a,e);e.text=d.fa;X(a.display.Rb,d.fa);d=e}a:if(d.a==b)c={map:d.m.map,Y:d.m.Y};else{for(e=0;e<d.D.length;e++)if(d.D[e]==b){c={map:d.m.Ub[e],Y:d.m.eb[e]};break a}for(e=0;e<d.D.length;e++)if(I(d.D[e])>c){c={map:d.m.Ub[e],Y:d.m.eb[e],zb:!0};break a}c=void 0}return{a:b,view:d,rect:null,map:c.map,Y:c.Y,zb:c.zb,Cc:!1}}
function zc(a,b,c,d){b.zb&&(c=-1);var e=c+(d||""),f;if(b.Y.hasOwnProperty(e))f=b.Y[e];else{b.rect||(b.rect=b.view.text.getBoundingClientRect());if(!b.Cc){var g=b.view,h=b.rect,k=a.options.B,l=k&&a.display.h.clientWidth;if(!g.m.Mb||k&&g.m.width!=l){var n=g.m.Mb=[];if(k)for(g.m.width=l,g=g.text.firstChild.getClientRects(),k=0;k<g.length-1;k++){var l=g[k],r=g[k+1];2<Math.abs(l.bottom-r.bottom)&&n.push((l.bottom+r.top)/2-h.top)}n.push(h.bottom-h.top)}b.Cc=!0}var h=d,n=b.map,t,y,m;for(d=0;d<n.length;d+=
3){var p=n[d],q=n[d+1];if(c<p)y=0,m=1,f="left";else if(c<q)y=c-p,m=y+1;else if(d==n.length-3||c==q&&n[d+3]>c)m=q-p,y=m-1,c>=q&&(f="right");if(null!=y){t=n[d+2];p==q&&h==(t.la?"left":"right")&&(f=h);if("left"==h&&0==y)for(;d&&n[d-2]==n[d-3]&&n[d-1].la;)t=n[(d-=3)+2],f="left";if("right"==h&&y==q-p)for(;d<n.length-3&&n[d+3]==n[d+4]&&!n[d+5].la;)t=n[(d+=3)+2],f="right";break}}if(3==t.nodeType){for(;y&&eb(b.a.text.charAt(p+y));)--y;for(;p+m<q&&eb(b.a.text.charAt(p+m));)++m;if(K&&0==y&&m==q-p)c=t.parentNode.getBoundingClientRect();
else if(L&&a.options.B){var s=fb(t,y,m).getClientRects();c=s.length?s["right"==h?s.length-1:0]:Gc}else c=fb(t,y,m).getBoundingClientRect()||Gc}else 0<y&&(f=h="right"),c=a.options.B&&1<(s=t.getClientRects()).length?s["right"==h?s.length-1:0]:t.getBoundingClientRect();!K||y||c&&(c.left||c.right)||(c=(t=t.parentNode.getClientRects()[0])?{left:t.left,right:t.left+vb(a.display),top:t.top,bottom:t.bottom}:Gc);t=(c.bottom+c.top)/2-b.rect.top;y=b.view.m.Mb;for(d=0;d<y.length-1&&!(t<y[d]);d++);a=d?y[d-1]:
0;t=y[d];f={left:("right"==f?c.right:c.left)-b.rect.left,right:("left"==f?c.left:c.right)-b.rect.left,top:a,bottom:t};c.left||c.right||(f.$c=!0);f.$c||(b.Y[e]=f)}return{left:f.left,right:f.right,top:f.top,bottom:f.bottom}}function Md(a){a.display.ef=null;qa(a.display.Rb);for(var b=0;b<a.display.view.length;b++){var c=a.display.view[b];if(c.m&&(c.m.Y={},c.m.Mb=null,c.D))for(var d=0;d<c.D.length;d++)c.m.eb[d]={}}}function wb(a){Md(a);a.display.Ga=a.display.wa=a.display.Ha=null;a.options.B||(a.display.sa=
!0);a.display.Sb=null}function Nd(a,b,c,d){if(b.J)for(var e=0;e<b.J.length;++e)if(b.J[e].Vc){var f=Od(b.J[e]);c.top+=f;c.bottom+=f}if("line"==d)return c;d||(d="local");b=sa(b);b="local"==d?b+a.display.L.offsetTop:b-a.display.ua;if("page"==d||"window"==d)a=a.display.L.getBoundingClientRect(),b+=a.top+("window"==d?0:window.pageYOffset||(document.documentElement||document.body).scrollTop),d=a.left+("window"==d?0:window.pageXOffset||(document.documentElement||document.body).scrollLeft),c.left+=d,c.right+=
d;c.top+=b;c.bottom+=b;return c}function Ib(a,b,c,d,e){d||(d=s(a.d,b.a));var f=d;b=b.ch;d=zc(a,Bb(a,d),b,e);return Nd(a,f,d,c)}function Fa(a,b,c,d,e){function f(b,f){var g=zc(a,e,b,f?"right":"left");f?g.left=g.right:g.right=g.left;return Nd(a,d,g,c)}function g(a,b){var c=h[b],d=c.u%2;a==Hc(c)&&b&&c.u<h[b-1].u?(c=h[--b],a=Ic(c)-(c.u%2?0:1),d=!0):a==Ic(c)&&b<h.length-1&&c.u<h[b+1].u&&(c=h[++b],a=Hc(c)-c.u%2,d=!1);return d&&a==c.c&&a>c.b?f(a-1):f(a,d)}d=d||s(a.d,b.a);e||(e=Bb(a,d));var h=Y(d);b=b.ch;
if(!h)return f(b);var k=Jc(h,b),k=g(b,k);null!=gb&&(k.Wa=g(b,gb));return k}function Pd(a,b){var c=0;b=x(a.d,b);a.options.B||(c=vb(a.display)*b.ch);var d=s(a.d,b.a),e=sa(d)+a.display.L.offsetTop;return{left:c,right:c,top:e,bottom:e+d.height}}function Lb(a,b,c,d){a=p(a,b);a.hc=d;c&&(a.Rd=!0);return a}function Kc(a,b,c){var d=a.d;c+=a.display.ua;if(0>c)return Lb(d.first,0,!0,-1);var e=Da(d,c),f=d.first+d.size-1;if(e>f)return Lb(d.first+d.size-1,s(d,f).text.length,!0,1);0>b&&(b=0);for(d=s(d,e);;)if(e=
Ye(a,d,e,b,c),f=(d=ra(d,!1))&&d.find(0,!0),d&&(e.ch>f.b.ch||e.ch==f.b.ch&&0<e.hc))e=I(d=f.c.a);else return e}function Ye(a,b,c,d,e){function f(d){d=Fa(a,p(c,d),"line",b,l);h=!0;if(g>d.bottom)return d.left-k;if(g<d.top)return d.left+k;h=!1;return d.left}var g=e-sa(b),h=!1,k=2*a.display.p.clientWidth,l=Bb(a,b),n=Y(b),r=b.text.length;e=Mb(b);var t=Nb(b),m=f(e),q=h,s=f(t),u=h;if(d>s)return Lb(c,t,u,1);for(;;){if(n?t==e||t==Lc(b,e,1):1>=t-e){n=d<m||d-m<=s-d?e:t;for(d-=n==e?m:s;eb(b.text.charAt(n));)++n;
return Lb(c,n,n==e?q:u,-1>d?-1:1<d?1:0)}var v=Math.ceil(r/2),Ga=e+v;if(n)for(var Ga=e,w=0;w<v;++w)Ga=Lc(b,Ga,1);w=f(Ga);if(w>d){t=Ga;s=w;if(u=h)s+=1E3;r=v}else e=Ga,m=w,q=h,r-=v}}function Ca(a){if(null!=a.wa)return a.wa;if(null==ua){ua=q("pre");for(var b=0;49>b;++b)ua.appendChild(document.createTextNode("x")),ua.appendChild(q("br"));ua.appendChild(document.createTextNode("x"))}X(a.m,ua);b=ua.offsetHeight/50;3<b&&(a.wa=b);qa(a.m);return b||1}function vb(a){if(null!=a.Ga)return a.Ga;var b=q("span",
"xxxxxxxxxx"),c=q("pre",[b]);X(a.m,c);b=b.getBoundingClientRect();b=(b.right-b.left)/10;2<b&&(a.Ga=b);return b||10}function Ia(a){a.i={gc:!1,be:a.d.height,Na:!1,vb:null,Sc:!1,fb:null,Ja:null,ac:!1,fc:!1,scrollLeft:null,scrollTop:null,M:null,id:++Ze};Ob++||(ma=[])}function Ja(a){var b=a.i,c=a.d,d=a.display;a.i=null;b.fc&&pc(a);if(b.gc||b.Na||null!=b.scrollTop||b.M&&(b.M.b.a<d.q||b.M.c.a>=d.n)||d.sa&&a.options.B){var e=zb(a,{top:b.scrollTop,Gb:b.M},b.Na);a.display.h.offsetHeight&&(a.d.scrollTop=a.display.h.scrollTop)}!e&&
b.ac&&Ac(a);e||b.be==a.d.height||yb(a);null==d.oa||null==b.scrollTop&&null==b.scrollLeft&&!b.M||(d.oa=d.wb=null);null!=b.scrollTop&&d.h.scrollTop!=b.scrollTop&&(e=Math.max(0,Math.min(d.h.scrollHeight-d.h.clientHeight,b.scrollTop)),d.h.scrollTop=d.w.scrollTop=c.scrollTop=e);null!=b.scrollLeft&&d.h.scrollLeft!=b.scrollLeft&&(e=Math.max(0,Math.min(d.h.scrollWidth-d.h.clientWidth,b.scrollLeft)),d.h.scrollLeft=d.v.scrollLeft=c.scrollLeft=e,tc(a));if(b.M){a:{c=x(a.d,b.M.b);d=x(a.d,b.M.c);e=b.M.margin;for(null==
e&&(e=0);;){var f=!1,g=Fa(a,c),h=d&&d!=c?Fa(a,d):g,h=Mc(a,Math.min(g.left,h.left),Math.min(g.top,h.top)-e,Math.max(g.left,h.left),Math.max(g.bottom,h.bottom)+e),k=a.d.scrollTop,l=a.d.scrollLeft;null!=h.scrollTop&&(Pb(a,h.scrollTop),1<Math.abs(a.d.scrollTop-k)&&(f=!0));null!=h.scrollLeft&&(bb(a,h.scrollLeft),1<Math.abs(a.d.scrollLeft-l)&&(f=!0));if(!f){c=g;break a}}c=void 0}b.M.Id&&a.state.P&&(d=c,e=a.display,f=e.Q.getBoundingClientRect(),c=null,0>d.top+f.top?c=!0:d.bottom+f.top>(window.innerHeight||
document.documentElement.clientHeight)&&(c=!1),null==c||$e||(d=q("div","\u200b",null,"position: absolute; top: "+(d.top-e.ua-a.display.L.offsetTop)+"px; height: "+(d.bottom-d.top+ia)+"px; left: "+d.left+"px; width: 2px;"),a.display.L.appendChild(d),d.scrollIntoView(c),a.display.L.removeChild(d)))}b.ac&&Jb(a);a.state.P&&b.vb&&ca(a,b.Sc);c=b.pb;d=b.Gc;if(c)for(e=0;e<c.length;++e)c[e].l.length||H(c[e],"hide");if(d)for(e=0;e<d.length;++e)d[e].l.length&&H(d[e],"unhide");var n;--Ob||(n=ma,ma=null);b.fb&&
H(a,"changes",a,b.fb);if(n)for(e=0;e<n.length;++e)n[e]();if(b.Ja)for(e=0;e<b.Ja.length;e++)b.Ja[e](a)}function Ba(a,b){if(a.i)b();else{Ia(a);try{b()}finally{Ja(a)}}}function A(a,b){return function(){if(a.i)return b.apply(a,arguments);Ia(a);try{return b.apply(a,arguments)}finally{Ja(a)}}}function ga(a){return function(){if(this.i)return a.apply(this,arguments);Ia(this);try{return a.apply(this,arguments)}finally{Ja(this)}}}function P(a){return function(){var b=this.g;if(!b||b.i)return a.apply(this,
arguments);Ia(b);try{return a.apply(this,arguments)}finally{Ja(b)}}}function Ld(a,b,c){for(var d=this.a=b,e;d=ra(d,!1);)d=d.find(1,!0).a,(e||(e=[])).push(d);this.size=(this.D=e)?I(z(this.D))-c+1:1;this.t=this.text=null;this.hidden=Ya(a,b)}function Ab(a,b,c){var d=[],e;for(e=b;e<c;)b=new Ld(a.d,s(a.d,e),e),e+=b.size,d.push(b);return d}function V(a,b,c,d){null==b&&(b=a.d.first);null==c&&(c=a.d.first+a.d.size);d||(d=0);var e=a.display;d&&c<e.n&&(null==e.$a||e.$a>b)&&(e.$a=b);a.i.gc=!0;if(b>=e.n)ka&&
yc(a.d,b)<e.n&&ja(a);else if(c<=e.q)ka&&td(a.d,c+d)>e.q?ja(a):(e.q+=d,e.n+=d);else if(b<=e.q&&c>=e.n)ja(a);else if(b<=e.q){var f=Qb(a,c,c+d,1);f?(e.view=e.view.slice(f.index),e.q=f.K,e.n+=d):ja(a)}else if(c>=e.n)(f=Qb(a,b,b,-1))?(e.view=e.view.slice(0,f.index),e.n=f.K):ja(a);else{var f=Qb(a,b,b,-1),g=Qb(a,c,c+d,1);f&&g?(e.view=e.view.slice(0,f.index).concat(Ab(a,f.K,g.K)).concat(e.view.slice(g.index)),e.n+=d):ja(a)}if(a=e.ja)c<a.K?a.K+=d:b<a.K+a.size&&(e.ja=null)}function Ha(a,b,c){a.i.gc=!0;var d=
a.display,e=a.display.ja;e&&b>=e.K&&b<e.K+e.size&&(d.ja=null);b<d.q||b>=d.n||(a=d.view[ab(a,b)],null!=a.t&&(a=a.A||(a.A=[]),-1==E(a,c)&&a.push(c)))}function ja(a){a.display.q=a.display.n=a.d.first;a.display.view=[];a.display.ua=0}function ab(a,b){if(b>=a.display.n)return null;b-=a.display.q;if(0>b)return null;for(var c=a.display.view,d=0;d<c.length;d++)if(b-=c[d].size,0>b)return d}function Qb(a,b,c,d){var e=ab(a,b),f=a.display.view;if(!ka||c==a.d.first+a.d.size)return{index:e,K:c};for(var g=0,h=a.display.q;g<
e;g++)h+=f[g].size;if(h!=b){if(0<d){if(e==f.length-1)return null;b=h+f[e].size-b;e++}else b=h-b;c+=b}for(;yc(a.d,c)!=c;){if(e==(0>d?0:f.length-1))return null;c+=d*f[e-(0>d?1:0)].size;e+=d}return{index:e,K:c}}function rd(a){a=a.display.view;for(var b=0,c=0;c<a.length;c++){var d=a[c];d.hidden||d.t&&!d.A||++b}return b}function Rb(a){a.display.Ya||a.display.Xb.set(a.options.qg,function(){Nc(a);a.state.P&&Rb(a)})}function hb(a){function b(){Nc(a)||c?(a.display.Ya=!1,Rb(a)):(c=!0,a.display.Xb.set(60,b))}
var c=!1;a.display.Ya=!0;a.display.Xb.set(20,b)}function Nc(a){var b=a.display.input,c=a.display.ga,d=a.d;if(!a.state.P||af(b)&&!c||Sb(a)||a.options.Xe)return!1;a.state.na&&a.state.Ib&&(b.value=b.value.substring(0,b.value.length-1),a.state.Ib=!1);var e=b.value;if(e==c&&!a.R())return!1;if(L&&!K&&a.display.Pa===e)return ca(a),!1;var f=!a.i;f&&Ia(a);a.display.shift=!1;8203!=e.charCodeAt(0)||d.f!=a.display.Ea||c||(c="\u200b");for(var g=0,h=Math.min(c.length,e.length);g<h&&c.charCodeAt(g)==e.charCodeAt(g);)++g;
for(var h=e.slice(g),k=Ka(h),l=a.state.na&&1<k.length&&d.f.e.length==k.length,n=d.f.e.length-1;0<=n;n--){var r=d.f.e[n],t=r.b(),m=r.c();g<c.length?t=p(t.a,t.ch-(c.length-g)):a.state.Xa&&r.empty()&&!a.state.na&&(m=p(m.a,Math.min(s(d,m.a).text.length,m.ch+z(k).length)));var q=a.i.vb,m={b:t,c:m,text:l?[k[n]]:k,origin:a.state.na?"paste":a.state.Cb?"cut":"+input"};La(a.d,m);D(a,"inputRead",a,m);if(h&&!a.state.na&&a.options.Fb&&a.options.$d&&100>r.head.ch&&(!n||d.f.e[n-1].head.a!=r.head.a))if(t=a.zc(r.head),
t.Fb)for(m=0;m<t.Fb.length;m++){if(-1<h.indexOf(t.Fb.charAt(m))){ib(a,r.head.a,"smart");break}}else t.pd&&(m=va(m),t.pd.test(s(d,m.a).text.slice(0,m.ch))&&ib(a,r.head.a,"smart"))}Ea(a);a.i.vb=q;a.i.Sc=!0;1E3<e.length||-1<e.indexOf("\n")?b.value=a.display.ga="":a.display.ga=e;f&&Ja(a);a.state.na=a.state.Cb=!1;return!0}function ca(a,b){var c,d,e=a.d;a.R()?(a.display.ga="",c=e.f.I(),d=(c=Qd&&(100<c.c().a-c.b().a||1E3<(d=a.getSelection()).length))?"-":d||a.getSelection(),a.display.input.value=d,a.state.P&&
aa(a.display.input),L&&!K&&(a.display.Pa=d)):b||(a.display.ga=a.display.input.value="",L&&!K&&(a.display.Pa=null));a.display.Nb=c}function O(a){"nocursor"==a.options.readOnly||lc&&oa()==a.display.input||a.display.input.focus()}function Oc(a){a.state.P||(O(a),qc(a))}function Sb(a){return a.options.readOnly||a.d.Ia}function Ne(a){function b(){a.state.P&&setTimeout(U(O,a),0)}function c(b){$(a,b)||Pc(b)}function d(b){if(a.R())e.Nb&&(e.ga="",e.Nb=!1,e.input.value=a.getSelection(),aa(e.input));else{for(var c=
"",d=[],k=0;k<a.d.f.e.length;k++){var l=a.d.f.e[k].head.a,l={anchor:p(l,0),head:p(l+1,0)};d.push(l);c+=a.xd(l.anchor,l.head)}"cut"==b.type?a.Pc(d,null,Ma):(e.ga="",e.input.value=c,aa(e.input))}"cut"==b.type&&(a.state.Cb=!0)}var e=a.display;u(e.h,"mousedown",A(a,qd));ba?u(e.h,"dblclick",A(a,function(b){if(!$(a,b)){var c=Na(a,b);!c||Qc(a,b,"gutterClick",!0,D)||wa(a.display,b)||(N(b),b=Rc(a,c),Eb(a.d,b.anchor,b.head))}})):u(e.h,"dblclick",function(b){$(a,b)||N(b)});u(e.L,"selectstart",function(a){wa(e,
a)||N(a)});Sc||u(e.h,"contextmenu",function(b){Rd(a,b)});u(e.h,"scroll",function(){e.h.clientHeight&&(Pb(a,e.h.scrollTop),bb(a,e.h.scrollLeft,!0),H(a,"scroll",a))});u(e.w,"scroll",function(){e.h.clientHeight&&Pb(a,e.w.scrollTop)});u(e.v,"scroll",function(){e.h.clientHeight&&bb(a,e.v.scrollLeft)});u(e.h,"mousewheel",function(b){Sd(a,b)});u(e.h,"DOMMouseScroll",function(b){Sd(a,b)});u(e.v,"mousedown",b);u(e.w,"mousedown",b);u(e.p,"scroll",function(){e.p.scrollTop=e.p.scrollLeft=0});u(e.input,"keyup",
A(a,bf));u(e.input,"input",function(){L&&!K&&a.display.Pa&&(a.display.Pa=null);hb(a)});u(e.input,"keydown",A(a,cf));u(e.input,"keypress",A(a,df));u(e.input,"focus",U(qc,a));u(e.input,"blur",U(tb,a));a.options.Eb&&(u(e.h,"dragstart",function(b){if(L&&(!a.state.ya||100>+new Date-Td))Pc(b);else if(!$(a,b)&&!wa(a.display,b)&&(b.dataTransfer.setData("Text",a.getSelection()),b.dataTransfer.setDragImage&&!Ud)){var c=q("img",null,null,"position: fixed; left: 0; top: 0;");c.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";
S&&(c.width=c.height=1,a.display.p.appendChild(c),c.se=c.offsetTop);b.dataTransfer.setDragImage(c,0,0);S&&c.parentNode.removeChild(c)}}),u(e.h,"dragenter",c),u(e.h,"dragover",c),u(e.h,"drop",A(a,ef)));u(e.h,"paste",function(b){wa(e,b)||(a.state.na=!0,O(a),hb(a))});u(e.input,"paste",function(){if(M&&!a.state.Ib&&!(200>new Date-a.state.Ld)){var b=e.input.selectionStart,c=e.input.selectionEnd;e.input.value+="$";e.input.selectionStart=b;e.input.selectionEnd=c;a.state.Ib=!0}a.state.na=!0;hb(a)});u(e.input,
"cut",d);u(e.input,"copy",d);sc&&u(e.Q,"mouseup",function(){oa()==e.input&&e.input.blur();O(a)})}function ff(a){var b=a.display;b.Ga=b.wa=b.Ha=null;a.Xd()}function wa(a,b){for(var c=b.target||b.srcElement;c!=a.p;c=c.parentNode)if(!c||c.Dc||c.parentNode==a.Q&&c!=a.Va)return!0}function Na(a,b,c,d){var e=a.display;if(!c&&(c=b.target||b.srcElement,c==e.v||c==e.w||c==e.Da||c==e.Aa))return null;var f,g,e=e.L.getBoundingClientRect();try{f=b.clientX-e.left,g=b.clientY-e.top}catch(h){return null}b=Kc(a,f,
g);var k;d&&1==b.hc&&(k=s(a.d,b.a).text).length==b.ch&&(d=ta(k,k.length,a.options.ha)-k.length,b=p(b.a,Math.max(0,Math.round((f-Jd(a.display).left)/vb(a.display))-d)));return b}function qd(a){if(!$(this,a)){var b=this.display;b.shift=a.shiftKey;if(wa(b,a))M||(b.h.draggable=!1,setTimeout(function(){b.h.draggable=!0},100));else if(!Qc(this,a,"gutterClick",!0,D)){var c=Na(this,a);window.focus();switch(Vd(a)){case 1:c?gf(this,a,c):(a.target||a.srcElement)==b.h&&N(a);break;case 2:M&&(this.state.Ld=+new Date);
c&&Eb(this.d,c);setTimeout(U(O,this),20);N(a);break;case 3:Sc&&Rd(this,a)}}}}function gf(a,b,c){setTimeout(U(Oc,a),0);var d=+new Date,e;Tb&&Tb.time>d-400&&0==w(Tb.k,c)?e="triple":Ub&&Ub.time>d-400&&0==w(Ub.k,c)?(e="double",Tb={time:d,k:c}):(e="single",Ub={time:d,k:c});var d=a.d.f,f=ea?b.metaKey:b.ctrlKey;a.options.Eb&&hf&&!Sb(a)&&"single"==e&&-1<d.contains(c)&&d.R()?jf(a,b,c,f):kf(a,b,c,e,f)}function jf(a,b,c,d){var e=a.display,f=A(a,function(g){M&&(e.h.draggable=!1);a.state.ya=!1;ha(document,"mouseup",
f);ha(e.h,"drop",f);10>Math.abs(b.clientX-g.clientX)+Math.abs(b.clientY-g.clientY)&&(N(g),d||Eb(a.d,c),O(a),ba&&!K&&setTimeout(function(){document.body.focus();O(a)},20))});M&&(e.h.draggable=!0);a.state.ya=f;e.h.Eb&&e.h.Eb();u(document,"mouseup",f);u(e.h,"drop",f)}function kf(a,b,c,d,e){function f(b){if(0!=w(m,b))if(m=b,"rect"==d){for(var e=[],f=a.options.ha,g=ta(s(l,c.a).text,c.ch,f),h=ta(s(l,b.a).text,b.ch,f),k=Math.min(g,h),g=Math.max(g,h),h=Math.min(c.a,b.a),q=Math.min(a.Z(),Math.max(c.a,b.a));h<=
q;h++){var u=s(l,h).text,F=Wd(u,k,f);k==g?e.push(new B(p(h,F),p(h,F))):u.length>F&&e.push(new B(p(h,F),p(h,Wd(u,g,f))))}e.length||e.push(new B(c,c));C(l,W(t.e.slice(0,r).concat(e),r),{origin:"*mouse",scroll:!1});a.scrollIntoView(b)}else e=n,f=e.anchor,k=b,"single"!=d&&(b="double"==d?Rc(a,b):new B(p(b.a,0),x(l,p(b.a+1,0))),0<w(b.anchor,f)?(k=b.head,f=Ec(e.b(),b.anchor)):(k=b.anchor,f=Dc(e.c(),b.head))),e=t.e.slice(0),e[r]=new B(x(l,f),k),C(l,W(e,r),Tc)}function g(b){var c=++v,e=Na(a,b,!0,"rect"==d);
if(e)if(0!=w(e,m)){Oc(a);f(e);var h=vc(k,l);(e.a>=h.c||e.a<h.b)&&setTimeout(A(a,function(){v==c&&g(b)}),150)}else{var n=b.clientY<q.top?-20:b.clientY>q.bottom?20:0;n&&setTimeout(A(a,function(){v==c&&(k.h.scrollTop+=n,g(b))}),50)}}function h(b){v=Infinity;N(b);O(a);ha(document,"mousemove",z);ha(document,"mouseup",H);l.history.Sa=null}var k=a.display,l=a.d;N(b);var n,r,t=l.f;e&&!b.shiftKey?(r=l.f.contains(c),n=-1<r?l.f.e[r]:new B(c,c)):n=l.f.I();b.altKey?(d="rect",e||(n=new B(c,c)),c=Na(a,b,!0,!0),
r=-1):"double"==d?(b=Rc(a,c),n=a.display.shift||l.extend?cb(l,n,b.anchor,b.head):b):"triple"==d?(b=new B(p(c.a,0),x(l,p(c.a+1,0))),n=a.display.shift||l.extend?cb(l,n,b.anchor,b.head):b):n=cb(l,n,c);e?-1<r?Cd(l,r,n,Tc):(r=l.f.e.length,C(l,W(l.f.e.concat([n]),r),{scroll:!1,origin:"*mouse"})):(r=0,C(l,new fa([n],0),Tc),t=l.f);var m=c,q=k.p.getBoundingClientRect(),v=0,z=A(a,function(a){(L&&!lf?a.buttons:Vd(a))?g(a):h(a)}),H=A(a,h);u(document,"mousemove",z);u(document,"mouseup",H)}function Qc(a,b,c,d,
e){try{var f=b.clientX,g=b.clientY}catch(h){return!1}if(f>=Math.floor(a.display.r.getBoundingClientRect().right))return!1;d&&N(b);d=a.display;var k=d.$.getBoundingClientRect();if(g>k.bottom||!R(a,c))return Uc(b);g-=k.top-d.ua;for(k=0;k<a.options.r.length;++k){var l=d.r.childNodes[k];if(l&&l.getBoundingClientRect().right>=f)return e(a,c,a,Da(a.d,g),a.options.r[k],b),Uc(b)}}function ef(a){var b=this;if(!$(b,a)&&!wa(b.display,a)){N(a);L&&(Td=+new Date);var c=Na(b,a,!0),d=a.dataTransfer.files;if(c&&!Sb(b))if(d&&
d.length&&window.je&&window.ie){var e=d.length,f=Array(e),g=0;a=function(a,d){var h=new FileReader;h.onload=A(b,function(){f[d]=h.result;if(++g==e){c=x(b.d,c);var a={b:c,c:c,text:Ka(f.join("\n")),origin:"paste"};La(b.d,a);Dd(b.d,la(c,va(a)))}});h.readAsText(a)};for(var h=0;h<e;++h)a(d[h],h)}else if(b.state.ya&&-1<b.d.f.contains(c))b.state.ya(a),setTimeout(U(O,b),20);else try{if(f=a.dataTransfer.getData("Text")){if(b.state.ya&&(ea?!a.metaKey:!a.ctrlKey))var k=b.f.e;Fb(b.d,la(c,c));if(k)for(h=0;h<k.length;++h)Vb(b.d,
"",k[h].anchor,k[h].head,"drag");b.rb(f,"around","paste");O(b)}}catch(l){}}}function Pb(a,b){2>Math.abs(a.d.scrollTop-b)||(a.d.scrollTop=b,jb||zb(a,{top:b}),a.display.h.scrollTop!=b&&(a.display.h.scrollTop=b),a.display.w.scrollTop!=b&&(a.display.w.scrollTop=b),jb&&zb(a),Xa(a,100))}function bb(a,b,c){(c?b==a.d.scrollLeft:2>Math.abs(a.d.scrollLeft-b))||(b=Math.min(b,a.display.h.scrollWidth-a.display.h.clientWidth),a.d.scrollLeft=b,tc(a),a.display.h.scrollLeft!=b&&(a.display.h.scrollLeft=b),a.display.v.scrollLeft!=
b&&(a.display.v.scrollLeft=b))}function Sd(a,b){var c=b.wheelDeltaX,d=b.wheelDeltaY;null==c&&b.detail&&b.axis==b.HORIZONTAL_AXIS&&(c=b.detail);null==d&&b.detail&&b.axis==b.VERTICAL_AXIS?d=b.detail:null==d&&(d=b.wheelDelta);var e=a.display,f=e.h;if(c&&f.scrollWidth>f.clientWidth||d&&f.scrollHeight>f.clientHeight){if(d&&ea&&M){var g=b.target,h=e.view;a:for(;g!=f;g=g.parentNode)for(var k=0;k<h.length;k++)if(h[k].t==g){a.display.hd=g;break a}}!c||jb||S||null==T?(d&&null!=T&&(g=d*T,h=a.d.scrollTop,k=h+
e.p.clientHeight,0>g?h=Math.max(0,h+g-50):k=Math.min(a.d.height,k+g+50),zb(a,{top:h,bottom:k})),20>Wb&&(null==e.oa?(e.oa=f.scrollLeft,e.wb=f.scrollTop,e.ab=c,e.bb=d,setTimeout(function(){if(null!=e.oa){var a=f.scrollLeft-e.oa,b=f.scrollTop-e.wb,a=b&&e.bb&&b/e.bb||a&&e.ab&&a/e.ab;e.oa=e.wb=null;a&&(T=(T*Wb+a)/(Wb+1),++Wb)}},200)):(e.ab+=c,e.bb+=d))):(d&&Pb(a,Math.max(0,Math.min(f.scrollTop+d*T,f.scrollHeight-f.clientHeight))),bb(a,Math.max(0,Math.min(f.scrollLeft+c*T,f.scrollWidth-f.clientWidth))),
N(b),e.oa=null)}}function Xb(a,b,c){if("string"==typeof b&&(b=Yb[b],!b))return!1;a.display.Ya&&Nc(a)&&(a.display.Ya=!1);var d=a.display.shift,e=!1;try{Sb(a)&&(a.state.tb=!0),c&&(a.display.shift=!1),e=b(a)!=Xd}finally{a.display.shift=d,a.state.tb=!1}return e}function Yd(a){var b=a.state.Kd.slice(0);a.options.qd&&b.push(a.options.qd);b.push(a.options.Qa);return b}function Zd(a,b){var c=Vc(a.options.Qa),d=c.xe;clearTimeout($d);d&&!mf(b)&&($d=setTimeout(function(){Vc(a.options.Qa)==c&&(a.options.Qa=d.call?
d.call(null,a):d,od(a))},50));var e=nf(b,!0),f=!1;if(!e)return!1;f=Yd(a);if(f=b.shiftKey?Zb("Shift-"+e,f,function(b){return Xb(a,b,!0)})||Zb(e,f,function(b){if("string"==typeof b?/^go[A-Z]/.test(b):b.kg)return Xb(a,b)}):Zb(e,f,function(b){return Xb(a,b)}))N(b),Jb(a),D(a,"keyHandled",a,e,b);return f}function of(a,b,c){var d=Zb("'"+c+"'",Yd(a),function(b){return Xb(a,b,!0)});d&&(N(b),Jb(a),D(a,"keyHandled",a,"'"+c+"'",b));return d}function cf(a){Oc(this);if(!$(this,a)){ba&&27==a.keyCode&&(a.returnValue=
!1);var b=a.keyCode;this.display.shift=16==b||a.shiftKey;var c=Zd(this,a);S&&(Wc=c?b:null,!c&&88==b&&!Qd&&(ea?a.metaKey:a.ctrlKey)&&this.rb("",null,"cut"));18!=b||/\bCodeMirror-crosshair\b/.test(this.display.$.className)||pf(this)}}function pf(a){function b(a){18!=a.keyCode&&a.altKey||($b(c,"CodeMirror-crosshair"),ha(document,"keyup",b),ha(document,"mouseover",b))}var c=a.display.$;ac(c,"CodeMirror-crosshair");u(document,"keyup",b);u(document,"mouseover",b)}function bf(a){$(this,a)||16!=a.keyCode||
(this.d.f.shift=!1)}function df(a){if(!$(this,a)){var b=a.keyCode,c=a.charCode;S&&b==Wc?(Wc=null,N(a)):(S&&(!a.which||10>a.which)||sc)&&Zd(this,a)||of(this,a,String.fromCharCode(null==c?b:c))||(L&&!K&&(this.display.Pa=null),hb(this))}}function qc(a){"nocursor"!=a.options.readOnly&&(a.state.P||(H(a,"focus",a),a.state.P=!0,ac(a.display.p,"CodeMirror-focused"),a.i||a.display.Ea==a.d.f||(ca(a),M&&setTimeout(U(ca,a,!0),0))),Rb(a),Jb(a))}function tb(a){a.state.P&&(H(a,"blur",a),a.state.P=!1,$b(a.display.p,
"CodeMirror-focused"));clearInterval(a.display.kc);setTimeout(function(){a.state.P||(a.display.shift=!1)},150)}function Rd(a,b){function c(){if(null!=e.input.selectionStart){var b=a.R(),c=e.input.value="\u200b"+(b?e.input.value:"");e.ga=b?"":"\u200b";e.input.selectionStart=1;e.input.selectionEnd=c.length;e.Ea=a.d.f}}function d(){e.da.style.position="relative";e.input.style.cssText=h;K&&(e.w.scrollTop=e.h.scrollTop=g);Rb(a);if(null!=e.input.selectionStart){L&&!K||c();var b=0,d=function(){e.Ea==a.d.f&&
0==e.input.selectionStart?A(a,Yb.Vd)(a):10>b++?e.sc=setTimeout(d,500):ca(a)};e.sc=setTimeout(d,200)}}if(!$(a,b,"contextmenu")){var e=a.display;if(!(wa(e,b)||R(a,"gutterContextMenu")&&Qc(a,b,"gutterContextMenu",!1,H))){var f=Na(a,b),g=e.h.scrollTop;if(f&&!S){a.options.tg&&-1==a.d.f.contains(f)&&A(a,C)(a.d,la(f),Ma);var h=e.input.style.cssText;e.da.style.position="absolute";e.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(b.clientY-5)+"px; left: "+(b.clientX-5)+"px; z-index: 1000; background: "+
(L?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";O(a);ca(a);a.R()||(e.input.value=e.ga=" ");e.Ea=a.d.f;clearTimeout(e.sc);L&&!K&&c();if(Sc){Pc(b);var k=function(){ha(window,"mouseup",k);setTimeout(d,20)};u(window,"mouseup",k)}else setTimeout(d,50)}}}}function ae(a,b){if(0>w(a,b.b))return a;if(0>=w(a,b.c))return va(b);var c=a.a+b.text.length-(b.c.a-b.b.a)-1,d=a.ch;a.a==b.c.a&&(d+=va(b).ch-b.c.ch);
return p(c,d)}function Xc(a,b){for(var c=[],d=0;d<a.f.e.length;d++){var e=a.f.e[d];c.push(new B(ae(e.anchor,b),ae(e.head,b)))}return W(c,a.f.S)}function be(a,b,c){return a.a==b.a?p(c.a,a.ch-b.ch+c.ch):p(c.a+(a.a-b.a),a.ch)}function ce(a,b,c){b={lc:!1,b:b.b,c:b.c,text:b.text,origin:b.origin,cancel:function(){this.lc=!0}};c&&(b.update=function(b,c,f,g){b&&(this.b=x(a,b));c&&(this.c=x(a,c));f&&(this.text=f);void 0!==g&&(this.origin=g)});H(a,"beforeChange",a,b);a.g&&H(a.g,"beforeChange",a.g,b);return b.lc?
null:{b:b.b,c:b.c,text:b.text,origin:b.origin}}function La(a,b,c){if(a.g){if(!a.g.i)return A(a.g,La)(a,b,c);if(a.g.state.tb)return}if(R(a,"beforeChange")||a.g&&R(a.g,"beforeChange"))if(b=ce(a,b,!0),!b)return;if(c=de&&!c&&qf(a,b.b,b.c))for(var d=c.length-1;0<=d;--d)ee(a,{b:c[d].b,c:c[d].c,text:d?[""]:b.text});else ee(a,b)}function ee(a,b){if(1!=b.text.length||""!=b.text[0]||0!=w(b.b,b.c)){var c=Xc(a,b);fe(a,b,c,a.g?a.g.i.id:NaN);kb(a,b,c,Yc(a,b));var d=[];xa(a,function(a,c){c||-1!=E(d,a.history)||
(ge(a.history,b),d.push(a.history));kb(a,b,null,Yc(a,b))})}}function bc(a,b,c){if(!a.g||!a.g.state.tb){for(var d=a.history,e,f=a.f,g="undo"==b?d.o:d.O,h="undo"==b?d.O:d.o,k=0;k<g.length&&(e=g[k],c?!e.e||e.hb(a.f):e.e);k++);if(k!=g.length){for(d.Ra=d.Sa=null;;)if(e=g.pop(),e.e){Gb(e,h);if(c&&!e.hb(a.f)){C(a,e,{ed:!1});return}f=e}else break;c=[];Gb(f,h);h.push({A:c,ca:d.ca});d.ca=e.ca||++d.ob;d=R(a,"beforeChange")||a.g&&R(a.g,"beforeChange");for(k=e.A.length-1;0<=k;--k){var l=e.A[k];l.origin=b;if(d&&
!ce(a,l,!1)){g.length=0;break}c.push(Zc(a,l));f=k?Xc(a,l):z(g);kb(a,l,f,he(a,l));!k&&a.g&&a.g.scrollIntoView(l);var n=[];xa(a,function(a,b){b||-1!=E(n,a.history)||(ge(a.history,l),n.push(a.history));kb(a,l,null,he(a,l))})}}}}function ke(a,b){if(0!=b&&(a.first+=b,a.f=new fa($c(a.f.e,function(a){return new B(p(a.anchor.a+b,a.anchor.ch),p(a.head.a+b,a.head.ch))}),a.f.S),a.g)){V(a.g,a.first,a.first-b,b);for(var c=a.g.display,d=c.q;d<c.n;d++)Ha(a.g,d,"gutter")}}function kb(a,b,c,d){if(a.g&&!a.g.i)return A(a.g,
kb)(a,b,c,d);if(b.c.a<a.first)ke(a,b.text.length-1-(b.c.a-b.b.a));else if(!(b.b.a>a.Z())){if(b.b.a<a.first){var e=b.text.length-1-(a.first-b.b.a);ke(a,e);b={b:p(a.first,0),c:p(b.c.a+e,b.c.ch),text:[z(b.text)],origin:b.origin}}e=a.Z();b.c.a>e&&(b={b:b.b,c:p(e,s(a,e).text.length),text:[b.text[0]],origin:b.origin});b.Kc=lb(a,b.b,b.c);c||(c=Xc(a,b));a.g?rf(a.g,b,d):ad(a,b,d);Fb(a,c,Ma)}}function rf(a,b,c){var d=a.d,e=a.display,f=b.b,g=b.c,h=!1,k=f.a;a.options.B||(k=I(Z(s(d,f.a))),d.C(k,g.a+1,function(a){if(a==
e.ea)return h=!0}));-1<d.f.contains(b.b,b.c)&&Hd(a);ad(d,b,c,nd(a));a.options.B||(d.C(k,f.a+b.text.length,function(a){var b=xb(a);b>e.ta&&(e.ea=a,e.ta=b,e.sa=!0,h=!1)}),h&&(a.i.fc=!0));d.H=Math.min(d.H,f.a);Xa(a,400);c=b.text.length-(g.a-f.a)-1;f.a!=g.a||1!=b.text.length||le(a.d,b)?V(a,f.a,g.a+1,c):Ha(a,f.a,"text");c=R(a,"changes");if((d=R(a,"change"))||c)b={b:f,c:g,text:b.text,Kc:b.Kc,origin:b.origin},d&&D(a,"change",a,b),c&&(a.i.fb||(a.i.fb=[])).push(b);a.display.Ea=null}function Vb(a,b,c,d,e){d||
(d=c);if(0>w(d,c)){var f=d;d=c;c=f}"string"==typeof b&&(b=Ka(b));La(a,{b:c,c:d,text:b,origin:e})}function Mc(a,b,c,d,e){var f=a.display,g=Ca(a.display);0>c&&(c=0);var h=a.i&&null!=a.i.scrollTop?a.i.scrollTop:f.h.scrollTop,k=f.h.clientHeight-ia,l={},n=a.d.height+(f.Va.offsetHeight-f.L.offsetHeight),r=c<g,g=e>n-g;c<h?l.scrollTop=r?0:c:e>h+k&&(c=Math.min(c,(g?n:e)-k),c!=h&&(l.scrollTop=c));a=a.i&&null!=a.i.scrollLeft?a.i.scrollLeft:f.h.scrollLeft;h=f.h.clientWidth-ia;b+=f.r.offsetWidth;d+=f.r.offsetWidth;
f=f.r.offsetWidth;c=b<f+10;b<a+f||c?(c&&(b=0),l.scrollLeft=Math.max(0,b-10-f)):d>h+a-3&&(l.scrollLeft=d+10-h);return l}function me(a,b){null==b||cc(a);null!=b&&(a.i.scrollTop=(null==a.i.scrollTop?a.d.scrollTop:a.i.scrollTop)+b)}function Ea(a){cc(a);var b=a.Jb(),c=b,d=b;a.options.B||(c=b.ch?p(b.a,b.ch-1):b,d=p(b.a,b.ch+1));a.i.M={b:c,c:d,margin:a.options.kd,Id:!0}}function cc(a){var b=a.i.M;if(b){a.i.M=null;var c=Pd(a,b.b),d=Pd(a,b.c),b=Mc(a,Math.min(c.left,d.left),Math.min(c.top,d.top)-b.margin,Math.max(c.right,
d.right),Math.max(c.bottom,d.bottom)+b.margin);a.scrollTo(b.scrollLeft,b.scrollTop)}}function ib(a,b,c,d){var e=a.d,f;null==c&&(c="add");"smart"==c&&(a.d.mode.Fd?f=Kb(a,b):c="prev");var g=a.options.ha,h=s(e,b),k=ta(h.text,null,g);h.T&&(h.T=null);var l=h.text.match(/^\s*/)[0],n;if(!d&&!/\S/.test(h.text))n=0,c="not";else if("smart"==c&&(n=a.d.mode.Fd(f,h.text.slice(l.length),h.text),n==Xd)){if(!d)return;c="prev"}"prev"==c?n=b>e.first?ta(s(e,b-1).text,null,g):0:"add"==c?n=k+a.options.Hd:"subtract"==
c?n=k-a.options.Hd:"number"==typeof c&&(n=k+c);n=Math.max(0,n);d="";f=0;if(a.options.Pf)for(c=Math.floor(n/g);c;--c)f+=g,d+="\t";f<n&&(d+=ne(n-f));if(d!=l)Vb(a.d,d,p(b,0),p(b,l.length),"+input");else for(c=0;c<e.f.e.length;c++)if(a=e.f.e[c],a.head.a==b&&a.head.ch<l.length){f=p(b,l.length);Cd(e,c,new B(f,f));break}h.T=null}function dc(a,b){for(var c=a.d.f.e,d=[],e=0;e<c.length;e++){for(var f=b(c[e]);d.length&&0>=w(f.b,z(d).c);){var g=d.pop();if(0>w(g.b,f.b)){f.b=g.b;break}}d.push(f)}Ba(a,function(){for(var b=
d.length-1;0<=b;b--)Vb(a.d,"",d[b].b,d[b].c,"+delete");Ea(a)})}function oe(a,b,c,d,e){function f(b){var d=(e?Lc:pe)(l,h,c,!0);if(null==d){if(b=!b)b=g+c,b<a.first||b>=a.first+a.size?b=n=!1:(g=b,b=l=s(a,b));if(b)h=e?(0>c?Nb:Mb)(l):0>c?l.text.length:0;else return n=!1}else h=d;return!0}var g=b.a,h=b.ch,k=c,l=s(a,g),n=!0;if("char"==d)f();else if("column"==d)f(!0);else if("word"==d||"group"==d){var r=null;d="group"==d;b=a.g&&a.g.xc(b,"wordChars");for(var t=!0;!(0>c)||f(!t);t=!1){var m=l.text.charAt(h)||
"\n",m=ec(m,b)?"w":d&&"\n"==m?"n":!d||/\s/.test(m)?null:"p";!d||t||m||(m="s");if(r&&r!=m){0>c&&(c=1,f());break}m&&(r=m);if(0<c&&!f(!t))break}}k=Hb(a,p(g,h),k,!0);n||(k.Ed=!0);return k}function Rc(a,b){var c=s(a.d,b.a).text,d=b.ch,e=b.ch;if(c){var f=a.xc(b,"wordChars");(0>b.hc||e==c.length)&&d?--d:++e;for(var g=c.charAt(d),g=ec(g,f)?function(a){return ec(a,f)}:/\s/.test(g)?function(a){return/\s/.test(a)}:function(a){return!/\s/.test(a)&&!ec(a)};0<d&&g(c.charAt(d-1));)--d;for(;e<c.length&&g(c.charAt(e));)++e}return new B(p(b.a,
d),p(b.a,e))}function v(a,b,c,d){m.Db[a]=b;c&&(ub[a]=d?function(a,b,d){d!=md&&c(a,b,d)}:c)}function Vc(a){return"string"==typeof a?da[a]:a}function Oa(a,b,c,d,e){if(d&&d.cc)return sf(a,b,c,d,e);if(a.g&&!a.g.i)return A(a.g,Oa)(a,b,c,d,e);var f=new Pa(a,e);e=w(b,c);d&&Ta(d,f,!1);if(0<e||0==e&&!1!==f.oc)return f;f.Mc&&(f.collapsed=!0,f.pa=q("span",[f.Mc],"CodeMirror-widget"),d.Bd||(f.pa.Dc=!0),d.la&&(f.pa.la=!0));if(f.collapsed){if(qe(a,b.a,b,c,f)||b.a!=c.a&&qe(a,c.a,b,c,f))throw Error("Inserting collapsed marker partially overlapping an existing one");
ka=!0}f.ue&&fe(a,{b:b,c:c,origin:"markText"},a.f,NaN);var g=b.a,h=a.g,k;a.C(g,c.a+1,function(a){h&&f.collapsed&&!h.options.B&&Z(a)==h.display.ea&&(k=!0);f.collapsed&&g!=b.a&&pa(a,0);var d=new fc(f,g==b.a?b.ch:null,g==c.a?c.ch:null);a.s=a.s?a.s.concat([d]):[d];d.j.jc(a);++g});f.collapsed&&a.C(b.a,c.a+1,function(b){Ya(a,b)&&pa(b,0)});f.Be&&u(f,"beforeCursorEnter",function(){f.clear()});f.readOnly&&(de=!0,(a.history.o.length||a.history.O.length)&&a.dd());f.collapsed&&(f.id=++tf,f.yb=!0);if(h){k&&(h.i.fc=
!0);if(f.collapsed)V(h,b.a,c.a+1);else if(f.className||f.title||f.Qc||f.tc)for(d=b.a;d<=c.a;d++)Ha(h,d,"text");f.yb&&Id(h.d);D(h,"markerAdded",h,f)}return f}function sf(a,b,c,d,e){d=Ta(d);d.cc=!1;var f=[Oa(a,b,c,d,e)],g=f[0],h=d.pa;xa(a,function(a){h&&(d.pa=h.cloneNode(!0));f.push(Oa(a,x(a,b),x(a,c),d,e));for(var l=0;l<a.X.length;++l)if(a.X[l].Jd)return;g=z(f)});return new gc(f,g)}function re(a){return a.rd(p(a.first,0),a.Bb(p(a.Z())),function(a){return a.parent})}function uf(a){for(var b=0;b<a.length;b++){var c=
a[b],d=[c.I.d];xa(c.I.d,function(a){d.push(a)});for(var e=0;e<c.Ca.length;e++){var f=c.Ca[e];-1==E(d,f.d)&&(f.parent=null,c.Ca.splice(e--,1))}}}function fc(a,b,c){this.j=a;this.b=b;this.c=c}function mb(a,b){if(a)for(var c=0;c<a.length;++c){var d=a[c];if(d.j==b)return d}}function Yc(a,b){var c=Db(a,b.b.a)&&s(a,b.b.a).s,d=Db(a,b.c.a)&&s(a,b.c.a).s;if(!c&&!d)return null;var e=b.b.ch,f=b.c.ch,g=0==w(b.b,b.c);if(c)for(var h=0,k;h<c.length;++h){var l=c[h],n=l.j;if(null==l.b||(n.V?l.b<=e:l.b<e)||!(l.b!=
e||"bookmark"!=n.type||g&&l.j.la)){var r=null==l.c||(n.W?l.c>=e:l.c>e);(k||(k=[])).push(new fc(n,l.b,r?null:l.c))}}c=k;if(d)for(var h=0,m;h<d.length;++h)if(k=d[h],l=k.j,null==k.c||(l.W?k.c>=f:k.c>f)||k.b==f&&"bookmark"==l.type&&(!g||k.j.la))n=null==k.b||(l.V?k.b<=f:k.b<f),(m||(m=[])).push(new fc(l,n?null:k.b-f,null==k.c?null:k.c-f));d=m;g=1==b.text.length;m=z(b.text).length+(g?e:0);if(c)for(f=0;f<c.length;++f)if(h=c[f],null==h.c)(k=mb(d,h.j),k)?g&&(h.c=null==k.c?null:k.c+m):h.c=e;if(d)for(f=0;f<d.length;++f)h=
d[f],null!=h.c&&(h.c+=m),null==h.b?(k=mb(c,h.j),k||(h.b=m,g&&(c||(c=[])).push(h))):(h.b+=m,g&&(c||(c=[])).push(h));c&&(c=se(c));d&&d!=c&&(d=se(d));e=[c];if(!g){var g=b.text.length-2,p;if(0<g&&c)for(f=0;f<c.length;++f)null==c[f].c&&(p||(p=[])).push(new fc(c[f].j,null,null));for(f=0;f<g;++f)e.push(p);e.push(d)}return e}function se(a){for(var b=0;b<a.length;++b){var c=a[b];null!=c.b&&c.b==c.c&&!1!==c.j.oc&&a.splice(b--,1)}return a.length?a:null}function he(a,b){var c;if(c=b["spans_"+a.id]){for(var d=
0,e=[];d<b.text.length;++d)e.push(vf(c[d]));c=e}else c=null;d=Yc(a,b);if(!c)return d;if(!d)return c;for(e=0;e<c.length;++e){var f=c[e],g=d[e];if(f&&g){var h=0;a:for(;h<g.length;++h){for(var k=g[h],l=0;l<f.length;++l)if(f[l].j==k.j)continue a;f.push(k)}}else g&&(c[e]=g)}return c}function qf(a,b,c){var d=null;a.C(b.a,c.a+1,function(a){if(a.s)for(var b=0;b<a.s.length;++b){var c=a.s[b].j;!c.readOnly||d&&-1!=E(d,c)||(d||(d=[])).push(c)}});if(!d)return null;a=[{b:b,c:c}];for(b=0;b<d.length;++b){c=d[b];
for(var e=c.find(0),f=0;f<a.length;++f){var g=a[f];if(!(0>w(g.c,e.b)||0<w(g.b,e.c))){var h=[f,1],k=w(g.b,e.b),l=w(g.c,e.c);(0>k||!c.V&&!k)&&h.push({b:g.b,c:e.b});(0<l||!c.W&&!l)&&h.push({b:e.c,c:g.c});a.splice.apply(a,h);f+=h.length-1}}}return a}function te(a){var b=a.s;if(b){for(var c=0;c<b.length;++c)b[c].j.od(a);a.s=null}}function ue(a,b){if(b){for(var c=0;c<b.length;++c)b[c].j.jc(a);a.s=b}}function ve(a,b){var c=a.l.length-b.l.length;if(0!=c)return c;var c=a.find(),d=b.find(),e=w(c.b,d.b)||(a.V?
-1:0)-(b.V?-1:0);return e?-e:(c=w(c.c,d.c)||(a.W?1:0)-(b.W?1:0))?c:b.id-a.id}function ra(a,b){var c=ka&&a.s,d;if(c)for(var e,f=0;f<c.length;++f)e=c[f],e.j.collapsed&&null==(b?e.b:e.c)&&(!d||0>ve(d,e.j))&&(d=e.j);return d}function qe(a,b,c,d,e){a=s(a,b);if(a=ka&&a.s)for(b=0;b<a.length;++b){var f=a[b];if(f.j.collapsed){var g=f.j.find(0),h=w(g.b,c)||(f.j.V?-1:0)-(e.V?-1:0),k=w(g.c,d)||(f.j.W?1:0)-(e.W?1:0);if(!(0<=h&&0>=k||0>=h&&0<=k)&&(0>=h&&0<(w(g.c,c)||(f.j.W?1:0)-(e.V?-1:0))||0<=h&&0>(w(g.b,d)||
(f.j.V?-1:0)-(e.W?1:0))))return!0}}}function Z(a){for(var b;b=ra(a,!0);)a=b.find(-1,!0).a;return a}function yc(a,b){var c=s(a,b),d=Z(c);return c==d?b:I(d)}function td(a,b){if(b>a.Z())return b;var c=s(a,b),d;if(!Ya(a,c))return b;for(;d=ra(c,!1);)c=d.find(1,!0).a;return I(c)+1}function Ya(a,b){var c=ka&&b.s;if(c)for(var d,e=0;e<c.length;++e)if(d=c[e],d.j.collapsed&&(null==d.b||!d.j.pa&&0==d.b&&d.j.V&&bd(a,b,d)))return!0}function bd(a,b,c){if(null==c.c)return b=c.j.find(1,!0),bd(a,b.a,mb(b.a.s,c.j));
if(c.j.W&&c.c==b.text.length)return!0;for(var d,e=0;e<b.s.length;++e)if(d=b.s[e],d.j.collapsed&&!d.j.pa&&d.b==c.c&&(null==d.c||d.c!=c.b)&&(d.j.V||c.j.W)&&bd(a,b,d))return!0}function Od(a){if(null!=a.height)return a.height;var b;a:{b=a.t;var c=document.body;if(c.contains)b=c.contains(b);else{for(;b=b.parentNode;)if(b==c){b=!0;break a}b=void 0}}b||X(a.g.display.m,q("div",[a.t],null,"position: relative"));return a.height=a.t.offsetHeight}function we(a,b){if(a)for(;;){var c=a.match(/(?:^|\s+)line-(background-)?(\S+)/);
if(!c)break;a=a.slice(0,c.index)+a.slice(c.index+c[0].length);var d=c[1]?"bgClass":"textClass";null==b[d]?b[d]=c[2]:(new RegExp("(?:^|s)"+c[2]+"(?:$|s)")).test(b[d])||(b[d]+=" "+c[2])}return a}function xe(a,b){if(a.Ab)return a.Ab(b);if(a.ka){var c=m.ka(a,b);if(c.mode.Ab)return c.mode.Ab(c.state)}}function cd(a,b,c){for(var d=0;10>d;d++){var e=a.ce(b,c);if(b.k>b.start)return e}throw Error("Mode "+a.name+" failed to advance stream.");}function ye(a,b,c,d,e,f,g){var h=c.sd;null==h&&(h=a.options.sd);
var k=0,l=null,n=new hc(b,a.options.ha),r;for(""==b&&we(xe(c,d),f);!n.Hb();){n.k>a.options.Nd?(h=!1,g&&Fc(a,b,d,n.k),n.k=b.length,r=null):r=we(cd(c,n,d),f);if(a.options.Wc){var t=m.ka(c,d).mode.name;t&&(r="m-"+(r?t+" "+r:t))}h&&l==r||(k<n.start&&e(n.start,l),k=n.start,l=r);n.start=n.k}for(;k<n.k;)a=Math.min(n.k,k+5E4),e(a,l),k=a}function Kd(a,b,c,d){var e=[a.state.Vb],f={};ye(a,b.text,a.d.mode,c,function(a,b){e.push(a,b)},f,d);for(c=0;c<a.state.Ic.length;++c){var g=a.state.Ic[c],h=1,k=0;ye(a,b.text,
g.mode,!0,function(a,b){for(var c=h;k<a;){var d=e[h];d>a&&e.splice(h,1,a,e[h+1],d);h+=2;k=Math.min(a,d)}if(b)if(g.og)e.splice(c,h-c,a,"cm-overlay "+b),h=c+2;else for(;c<h;c+=2)d=e[c+1],e[c+1]=(d?d+" ":"")+"cm-overlay "+b},f)}return{N:e,gb:f.G||f.F?f:null}}function Fc(a,b,c,d){var e=a.d.mode,f=new hc(b,a.options.ha);f.start=f.k=d||0;for(""==b&&xe(e,c);!f.Hb()&&f.k<=a.options.Nd;)cd(e,f,c),f.start=f.k}function ze(a,b){if(!a||/^\s*$/.test(a))return null;var c=b.Wc?wf:xf;return c[a]||(c[a]=a.replace(/\S+/g,
"cm-$&"))}function zd(a,b){var c=q("span",null,null,M?"padding-right: .1px":null),c={fa:q("pre",[c]),content:c,ba:0,k:0,g:a};b.m={};for(var d=0;d<=(b.D?b.D.length:0);d++){var e=d?b.D[d-1]:b.a,f;c.k=0;c.va=yf;(L||M)&&a.wd("lineWrapping")&&(c.va=zf(c.va));var g;if(null!=dd)g=dd;else{g=X(a.display.m,document.createTextNode("A\u062eA"));var h=fb(g,0,1).getBoundingClientRect();g=h.left==h.right?!1:dd=3>fb(g,1,2).getBoundingClientRect().right-h.right}g&&(f=Y(e))&&(c.va=Af(c.va,f));c.map=[];var k=e;g=c;
h=e;if(!h.N||h.N[0]!=a.state.Vb){var l=Kd(a,h,h.T=Kb(a,I(h)));h.N=l.N;l.gb?h.aa=l.gb:h.aa&&(h.aa=null)}var h=h.N,l=k.s,k=k.text,n=0;if(l)for(var r=k.length,m=0,p=1,s="",u=void 0,v=0,w=void 0,x=void 0,z=void 0,B=void 0,A=void 0;;){if(v==m){for(var w=x=z=B="",A=null,v=Infinity,E=[],D=0;D<l.length;++D){var J=l[D],C=J.j;J.b<=m&&(null==J.c||J.c>m)?(null!=J.c&&v>J.c&&(v=J.c,x=""),C.className&&(w+=" "+C.className),C.Qc&&J.b==m&&(z+=" "+C.Qc),C.tc&&J.c==v&&(x+=" "+C.tc),C.title&&!B&&(B=C.title),C.collapsed&&
(!A||0>ve(A.j,C))&&(A=J)):J.b>m&&v>J.b&&(v=J.b);"bookmark"==C.type&&J.b==m&&C.pa&&E.push(C)}if(A&&(A.b||0)==m&&(Ae(g,(null==A.c?r+1:A.c)-m,A.j,null==A.b),null==A.c))break;if(!A&&E.length)for(D=0;D<E.length;++D)Ae(g,0,E[D])}if(m>=r)break;for(E=Math.min(r,v);;){if(s){D=m+s.length;A||(J=D>E?s.slice(0,E-m):s,g.va(g,J,u?u+w:w,z,m+J.length==v?x:"",B));if(D>=E){s=s.slice(E-m);m=E;break}m=D;z=""}s=k.slice(n,n=h[p++]);u=ze(h[p++],g.g.options)}}else for(var p=1;p<h.length;p+=2)g.va(g,k.slice(n,n=h[p]),ze(h[p+
1],g.g.options));e.aa&&(e.aa.G&&(c.G=ed(e.aa.G,c.G||"")),e.aa.F&&(c.F=ed(e.aa.F,c.F||"")));0==c.map.length&&c.map.push(0,0,c.content.appendChild(Bf(a.display.m)));0==d?(b.m.map=c.map,b.m.Y={}):((b.m.Ub||(b.m.Ub=[])).push(c.map),(b.m.eb||(b.m.eb=[])).push({}))}H(a,"renderLine",a,b.a,c.fa);c.fa.className&&(c.F=ed(c.fa.className,c.F||""));return c}function yf(a,b,c,d,e,f){if(b){var g=a.g.options.ae,h=!1;if(g.test(b))for(var k=document.createDocumentFragment(),l=0;;){g.lastIndex=l;var n=g.exec(b),r=n?
n.index-l:b.length-l;if(r){var m=document.createTextNode(b.slice(l,l+r));K?k.appendChild(q("span",[m])):k.appendChild(m);a.map.push(a.k,a.k+r,m);a.ba+=r;a.k+=r}if(!n)break;l+=r+1;"\t"==n[0]?(m=a.g.options.ha,n=m-a.ba%m,m=k.appendChild(q("span",ne(n),"cm-tab")),a.ba+=n):(m=a.g.options.Bg(n[0]),K?k.appendChild(q("span",[m])):k.appendChild(m),a.ba+=1);a.map.push(a.k,a.k+1,m);a.k++}else{a.ba+=b.length;var k=document.createTextNode(b);a.map.push(a.k,a.k+b.length,k);K&&(h=!0);a.k+=b.length}if(c||d||e||
h)return b=c||"",d&&(b+=d),e&&(b+=e),d=q("span",[k],b),f&&(d.title=f),a.content.appendChild(d);a.content.appendChild(k)}}function zf(a){function b(a){for(var b=" ",e=0;e<a.length-2;++e)b+=e%2?" ":"\u00a0";return b+" "}return function(c,d,e,f,g,h){a(c,d.replace(/ {3,}/g,b),e,f,g,h)}}function Af(a,b){return function(c,d,e,f,g,h){e=e?e+" cm-force-border":"cm-force-border";for(var k=c.k,l=k+d.length;;){for(var n=0;n<b.length;n++){var m=b[n];if(m.c>k&&m.b<=k)break}if(m.c>=l)return a(c,d,e,f,g,h);a(c,d.slice(0,
m.c-k),e,f,null,h);f=null;d=d.slice(m.c-k);k=m.c}}}function Ae(a,b,c,d){if(c=!d&&c.pa)a.map.push(a.k,a.k+b,c),a.content.appendChild(c);a.k+=b}function le(a,b){return 0==b.b.ch&&0==b.c.ch&&""==z(b.text)&&(!a.g||a.g.options.Gg)}function ad(a,b,c,d){function e(a,c,e){a.text=c;a.T&&(a.T=null);a.N&&(a.N=null);null!=a.Wb&&(a.Wb=null);te(a);ue(a,e);c=d?d(a):1;c!=a.height&&pa(a,c);D(a,"change",a,b)}var f=b.b,g=b.c,h=b.text,k=s(a,f.a),l=s(a,g.a),n=z(h),m=c?c[h.length-1]:null,p=g.a-f.a;if(le(a,b)){for(var q=
0,u=[];q<h.length-1;++q)u.push(new Qa(h[q],c?c[q]:null,d));e(l,l.text,m);p&&a.remove(f.a,p);u.length&&a.Ob(f.a,u)}else if(k==l)if(1==h.length)e(k,k.text.slice(0,f.ch)+n+k.text.slice(g.ch),m);else{u=[];for(q=1;q<h.length-1;++q)u.push(new Qa(h[q],c?c[q]:null,d));u.push(new Qa(n+k.text.slice(g.ch),m,d));e(k,k.text.slice(0,f.ch)+h[0],c?c[0]:null);a.Ob(f.a+1,u)}else if(1==h.length)e(k,k.text.slice(0,f.ch)+h[0]+l.text.slice(g.ch),c?c[0]:null),a.remove(f.a+1,p);else{e(k,k.text.slice(0,f.ch)+h[0],c?c[0]:
null);e(l,n+l.text.slice(g.ch),m);q=1;for(u=[];q<h.length-1;++q)u.push(new Qa(h[q],c?c[q]:null,d));1<p&&a.remove(f.a+1,p-1);a.Ob(f.a+1,u)}D(a,"change",a,b)}function nb(a){this.l=a;this.parent=null;for(var b=0,c=0;b<a.length;++b)a[b].parent=this,c+=a[b].height;this.height=c}function ob(a){this.children=a;for(var b=0,c=0,d=0;d<a.length;++d){var e=a[d],b=b+e.ia(),c=c+e.height;e.parent=this}this.size=b;this.height=c;this.parent=null}function xa(a,b,c){function d(a,f,g){if(a.X)for(var h=0;h<a.X.length;++h){var k=
a.X[h];if(k.d!=f){var l=g&&k.Za;if(!c||l)b(k.d,l),d(k.d,a,l)}}}d(a,null,!0)}function s(a,b){b-=a.first;if(0>b||b>=a.size)throw Error("There is no line "+(b+a.first)+" in the document.");for(var c=a;!c.l;)for(var d=0;;++d){var e=c.children[d],f=e.ia();if(b<f){c=e;break}b-=f}return c.l[b]}function lb(a,b,c){var d=[],e=b.a;a.C(b.a,c.a+1,function(a){a=a.text;e==c.a&&(a=a.slice(0,c.ch));e==b.a&&(a=a.slice(b.ch));d.push(a);++e});return d}function fd(a,b,c){var d=[];a.C(b,c,function(a){d.push(a.text)});
return d}function pa(a,b){var c=b-a.height;if(c)for(var d=a;d;d=d.parent)d.height+=c}function I(a){if(null==a.parent)return null;var b=a.parent;a=E(b.l,a);for(var c=b.parent;c;b=c,c=c.parent)for(var d=0;c.children[d]!=b;++d)a+=c.children[d].ia();return a+b.first}function Da(a,b){var c=a.first;a:do{for(var d=0;d<a.children.length;++d){var e=a.children[d],f=e.height;if(b<f){a=e;continue a}b-=f;c+=e.ia()}return c}while(!a.l);for(d=0;d<a.l.length;++d){e=a.l[d].height;if(b<e)break;b-=e}return c+d}function sa(a){a=
Z(a);for(var b=0,c=a.parent,d=0;d<c.l.length;++d){var e=c.l[d];if(e==a)break;else b+=e.height}for(a=c.parent;a;c=a,a=c.parent)for(d=0;d<a.children.length&&(e=a.children[d],e!=c);++d)b+=e.height;return b}function Y(a){var b=a.Wb;null==b&&(b=a.Wb=Cf(a.text));return b}function ic(a){this.o=[];this.O=[];this.ub=Infinity;this.Qb=this.lb=0;this.Ra=this.Sa=this.Ba=null;this.ca=this.ob=a||1}function Zc(a,b){var c={b:Cc(b.b),c:va(b),text:lb(a,b.b,b.c)};Be(a,c,b.b.a,b.c.a+1);xa(a,function(a){Be(a,c,b.b.a,b.c.a+
1)},!0);return c}function Ed(a){for(;a.length;)if(z(a).e)a.pop();else break}function fe(a,b,c,d){var e=a.history;e.O.length=0;var f=+new Date,g,h;if(h=e.Ba==d||e.Ra==b.origin&&b.origin&&("+"==b.origin.charAt(0)&&a.g&&e.Qb>f-a.g.options.Dd||"*"==b.origin.charAt(0)))e.Ba==d?(Ed(e.o),g=z(e.o)):e.o.length&&!z(e.o).e?g=z(e.o):1<e.o.length&&!e.o[e.o.length-2].e?(e.o.pop(),g=z(e.o)):g=void 0,h=g;if(h){var k=z(g.A);0==w(b.b,b.c)&&0==w(b.b,k.c)?k.c=va(b):g.A.push(Zc(a,b))}else for((g=z(e.o))&&g.e||Gb(a.f,
e.o),g={A:[Zc(a,b)],ca:e.ca},e.o.push(g);e.o.length>e.ub;)e.o.shift(),e.o[0].e||e.o.shift();e.o.push(c);e.ca=++e.ob;e.Qb=e.lb=f;e.Ba=d;e.Ra=e.Sa=b.origin;k||H(a,"historyAdded")}function Gb(a,b){var c=z(b);c&&c.e&&c.hb(a)||b.push(a)}function Be(a,b,c,d){var e=b["spans_"+a.id],f=0;a.C(Math.max(a.first,c),Math.min(a.first+a.size,d),function(c){c.s&&((e||(e=b["spans_"+a.id]={}))[f]=c.s);++f})}function vf(a){if(!a)return null;for(var b=0,c;b<a.length;++b)a[b].j.La?c||(c=a.slice(0,b)):c&&c.push(a[b]);return c?
c.length?c:null:a}function Ra(a,b,c){for(var d=0,e=[];d<a.length;++d){var f=a[d];if(f.e)e.push(c?fa.prototype.rc.call(f):f);else{var f=f.A,g=[];e.push({A:g});for(var h=0;h<f.length;++h){var k=f[h],l;g.push({b:k.b,c:k.c,text:k.text});if(b)for(var n in k)(l=n.match(/^spans_(\d+)$/))&&-1<E(b,Number(l[1]))&&(z(g)[n]=k[n],delete k[n])}}}return e}function Ce(a,b,c,d){c<a.a?a.a+=d:b<a.a&&(a.a=b,a.ch=0)}function De(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e],g=!0;if(f.e){f.fd||(f=a[e]=f.rc(),f.fd=!0);
for(var h=0;h<f.e.length;h++)Ce(f.e[h].anchor,b,c,d),Ce(f.e[h].head,b,c,d)}else{for(h=0;h<f.A.length;++h){var k=f.A[h];if(c<k.b.a)k.b=p(k.b.a+d,k.b.ch),k.c=p(k.c.a+d,k.c.ch);else if(b<=k.c.a){g=!1;break}}g||(a.splice(0,e+1),e=0)}}}function ge(a,b){var c=b.b.a,d=b.c.a,e=b.text.length-(d-c)-1;De(a.o,c,d,e);De(a.O,c,d,e)}function Uc(a){return null!=a.defaultPrevented?a.defaultPrevented:!1==a.returnValue}function Vd(a){var b=a.which;null==b&&(a.button&1?b=1:a.button&2?b=3:a.button&4&&(b=2));ea&&a.ctrlKey&&
1==b&&(b=3);return b}function D(a,b){function c(a){return function(){a.apply(null,e)}}var d=a.U&&a.U[b];if(d){var e=Array.prototype.slice.call(arguments,2);ma||(++Ob,ma=[],setTimeout(Df,0));for(var f=0;f<d.length;++f)ma.push(c(d[f]))}}function Df(){--Ob;var a=ma;ma=null;for(var b=0;b<a.length;++b)a[b]()}function $(a,b,c){H(a,c||b.type,a,b);return Uc(b)||b.De}function Hd(a){var b=a.U&&a.U.Ie;if(b){a=a.i.Ja||(a.i.Ja=[]);for(var c=0;c<b.length;++c)-1==E(a,b[c])&&a.push(b[c])}}function R(a,b){var c=a.U&&
a.U[b];return c&&0<c.length}function Sa(a){a.prototype.Qd=function(a,c){u(this,a,c)};a.prototype.Pd=function(a,c){ha(this,a,c)}}function mc(){this.id=null}function Wd(a,b,c){for(var d=0,e=0;;){var f=a.indexOf("\t",d);-1==f&&(f=a.length);var g=f-d;if(f==a.length||e+g>=b)return d+Math.min(g,b-e);e+=f-d;e+=c-e%c;d=f+1;if(e>=b)return d}}function ne(a){for(;jc.length<=a;)jc.push(z(jc)+" ");return jc[a]}function z(a){return a[a.length-1]}function E(a,b){for(var c=0;c<a.length;++c)if(a[c]==b)return c;return-1}
function $c(a,b){for(var c=[],d=0;d<a.length;d++)c[d]=b(a[d],d);return c}function Ee(a,b){var c;Object.create?c=Object.create(a):(c=function(){},c.prototype=a,c=new c);b&&Ta(b,c);return c}function Ta(a,b,c){b||(b={});for(var d in a)!a.hasOwnProperty(d)||!1===c&&b.hasOwnProperty(d)||(b[d]=a[d]);return b}function U(a){var b=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,b)}}function ec(a,b){return b?-1<b.source.indexOf("\\w")&&Fe(a)?!0:b.test(a):Fe(a)}function eb(a){return 768<=
a.charCodeAt(0)&&Ef.test(a)}function q(a,b,c,d){a=document.createElement(a);c&&(a.className=c);d&&(a.style.cssText=d);if("string"==typeof b)a.appendChild(document.createTextNode(b));else if(b)for(c=0;c<b.length;++c)a.appendChild(b[c]);return a}function qa(a){for(var b=a.childNodes.length;0<b;--b)a.removeChild(a.firstChild);return a}function X(a,b){return qa(a).appendChild(b)}function oa(){return document.activeElement}function gd(a){return new RegExp("\\b"+a+"\\b\\s*")}function $b(a,b){var c=gd(b);
c.test(a.className)&&(a.className=a.className.replace(c,""))}function ac(a,b){gd(b).test(a.className)||(a.className+=" "+b)}function ed(a,b){for(var c=a.split(" "),d=0;d<c.length;d++)c[d]&&!gd(c[d]).test(b)&&(b+=" "+c[d]);return b}function Ge(a){if(document.body.getElementsByClassName)for(var b=document.body.getElementsByClassName("CodeMirror"),c=0;c<b.length;c++){var d=b[c].ic;d&&a(d)}}function Oe(){var a;u(window,"resize",function(){null==a&&(a=setTimeout(function(){pb=a=null;Ge(ff)},100))});u(window,
"blur",function(){Ge(tb)})}function $a(a){if(null!=pb)return pb;var b=q("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");X(a,b);b.offsetWidth&&(pb=b.offsetHeight-b.clientHeight);return pb||0}function Bf(a){if(null==hd){var b=q("span","\u200b");X(a,q("span",[b,document.createTextNode("x")]));0!=a.firstChild.offsetHeight&&(hd=1>=b.offsetWidth&&2<b.offsetHeight&&!Va)}return hd?q("span","\u200b"):q("span","\u00a0",null,"display: inline-block; width: 1px; margin-right: -1px")}function Ue(a,
b,c,d){if(a){for(var e=!1,f=0;f<a.length;++f){var g=a[f];if(g.b<c&&g.c>b||b==c&&g.c==b)d(Math.max(g.b,b),Math.min(g.c,c),1==g.u?"rtl":"ltr"),e=!0}e||d(b,c,"ltr")}else d(b,c,"ltr")}function Hc(a){return a.u%2?a.c:a.b}function Ic(a){return a.u%2?a.b:a.c}function Mb(a){return(a=Y(a))?Hc(a[0]):0}function Nb(a){var b=Y(a);return b?Ic(z(b)):a.text.length}function He(a,b){var c=s(a.d,b),d=Z(c);d!=c&&(b=I(d));d=(c=Y(d))?c[0].u%2?Nb(d):Mb(d):0;return p(b,d)}function Jc(a,b){gb=null;for(var c=0,d;c<a.length;++c){var e=
a[c];if(e.b<b&&e.c>b)return c;if(e.b==b||e.c==b)if(null==d)d=c;else{var f=e.u,g=a[d].u,h=a[0].u;if(f==h||(g==h?0:f<g))return e.b!=e.c&&(gb=d),c;e.b!=e.c&&(gb=c);break}}return d}function id(a,b,c,d){if(!d)return b+c;do b+=c;while(0<b&&eb(a.text.charAt(b)));return b}function Lc(a,b,c,d){var e=Y(a);if(!e)return pe(a,b,c,d);var f=Jc(e,b),g=e[f];for(b=id(a,b,g.u%2?-c:c,d);;){if(b>g.b&&b<g.c)return b;if(b==g.b||b==g.c){if(Jc(e,b)==f)return b;g=e[f+c];return 0<c==g.u%2?g.c:g.b}g=e[f+=c];if(!g)return null;
b=0<c==g.u%2?id(a,g.c,-1,d):id(a,g.b,1,d)}}function pe(a,b,c,d){b+=c;if(d)for(;0<b&&eb(a.text.charAt(b));)b+=c;return 0>b||b>a.text.length?null:b}var jb=/gecko\/\d/i.test(navigator.userAgent),ba=/MSIE \d/.test(navigator.userAgent),Va=ba&&(null==document.documentMode||8>document.documentMode),K=ba&&(null==document.documentMode||9>document.documentMode),lf=ba&&(null==document.documentMode||10>document.documentMode),Ff=/Trident\/([7-9]|\d{2,})\./.test(navigator.userAgent),L=ba||Ff,M=/WebKit\//.test(navigator.userAgent),
Gf=M&&/Qt\/\d+\.\d+/.test(navigator.userAgent),Hf=/Chrome\//.test(navigator.userAgent),S=/Opera\//.test(navigator.userAgent),Ud=/Apple Computer/.test(navigator.vendor),sc=/KHTML\//.test(navigator.userAgent),Pe=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),$e=/PhantomJS/.test(navigator.userAgent),Ua=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),lc=Ua||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),ea=Ua||/Mac/.test(navigator.platform),
If=/win/i.test(navigator.platform),ya=S&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);ya&&(ya=Number(ya[1]));ya&&15<=ya&&(S=!1,M=!0);var Ie=ea&&(Gf||S&&(null==ya||12.11>ya)),Sc=jb||L&&!K,de=!1,ka=!1,p=m.oe=function(a,b){if(!(this instanceof p))return new p(a,b);this.a=a;this.ch=b},w=m.Ce=function(a,b){return a.a-b.a||a.ch-b.ch};fa.prototype={I:function(){return this.e[this.S]},hb:function(a){if(a==this)return!0;if(a.S!=this.S||a.e.length!=this.e.length)return!1;for(var b=0;b<this.e.length;b++){var c=
this.e[b],d=a.e[b];if(0!=w(c.anchor,d.anchor)||0!=w(c.head,d.head))return!1}return!0},rc:function(){for(var a=[],b=0;b<this.e.length;b++)a[b]=new B(Cc(this.e[b].anchor),Cc(this.e[b].head));return new fa(a,this.S)},R:function(){for(var a=0;a<this.e.length;a++)if(!this.e[a].empty())return!0;return!1},contains:function(a,b){b||(b=a);for(var c=0;c<this.e.length;c++){var d=this.e[c];if(0<=w(b,d.b())&&0>=w(a,d.c()))return c}return-1}};B.prototype={b:function(){return Ec(this.anchor,this.head)},c:function(){return Dc(this.anchor,
this.head)},empty:function(){return this.head.a==this.anchor.a&&this.head.ch==this.anchor.ch}};var Gc={left:0,right:0,top:0,bottom:0},ua,Ze=0,Ub,Tb,Td=0,Wb=0,T=null;L?T=-.53:jb?T=15:Hf?T=-.7:Ud&&(T=-1/3);var $d,Wc=null,va=m.Ae=function(a){return a.text?p(a.b.a+a.text.length-1,z(a.text).length+(1==a.text.length?a.b.ch:0)):a.c};m.prototype={constructor:m,focus:function(){window.focus();O(this);hb(this)},wd:function(a){return this.options[a]},Gd:ga(function(a,b,c){"string"!=typeof b&&"number"!=typeof b&&
(b=null==b?this.options.$d?"smart":"prev":b?"add":"subtract");Db(this.d,a)&&ib(this,a,b,c)}),jb:ga(function(a){for(var b=this.d.f.e,c=-1,d=0;d<b.length;d++){var e=b[d];if(e.empty())e.head.a>c&&(ib(this,e.head.a,a,!0),c=e.head.a,d==this.d.f.S&&Ea(this));else for(var f=Math.max(c,e.b().a),c=e.c(),c=Math.min(this.Z(),c.a-(c.ch?0:1))+1;f<c;++f)ib(this,f,a)}}),yd:function(a,b){var c=this.d;a=x(c,a);for(var d=Kb(this,a.a,b),e=this.d.mode,c=s(c,a.a),c=new hc(c.text,this.options.ha);c.k<a.ch&&!c.Hb();){c.start=
c.k;var f=cd(e,c,d)}return{start:c.start,end:c.k,Fa:c.current(),type:f||null,state:d}},zc:function(a){var b=this.d.mode;return b.ka?m.ka(b,this.yd(a).state).mode:b},xc:function(a,b){return this.td(a,b)[0]},td:function(a,b){var c=[];if(!za.hasOwnProperty(b))return za;var d=za[b],e=this.zc(a);if("string"==typeof e[b])d[e[b]]&&c.push(d[e[b]]);else if(e[b])for(var f=0;f<e[b].length;f++){var g=d[e[b][f]];g&&c.push(g)}else e.Oa&&d[e.Oa]?c.push(d[e.Oa]):d[e.name]&&c.push(d[e.name]);for(f=0;f<d.xb.length;f++)g=
d.xb[f],g.Td(e,this)&&-1==E(c,g.Uc)&&c.push(g.Uc);return c},mc:function(a,b){return Ib(this,x(this.d,a),b||"page")},pc:function(a,b){var c=b||"page";if("div"!=c){var d=a.left,e=a.top;"page"==c?(d-=window.pageXOffset||(document.documentElement||document.body).scrollLeft,e-=window.pageYOffset||(document.documentElement||document.body).scrollTop):"local"!=c&&c||(c=this.display.Q.getBoundingClientRect(),d+=c.left,e+=c.top);c=this.display.L.getBoundingClientRect();a={left:d-c.left,top:e-c.top}}return Kc(this,
a.left,a.top)},execCommand:function(a){if(Yb.hasOwnProperty(a))return Yb[a](this)},ma:ga(function(a,b){var c=this;c.ra(function(d){return c.display.shift||c.d.extend||d.empty()?oe(c.d,d.head,a,b,c.options.ug):0>a?d.b():d.c()},Aa)}),xa:ga(function(a,b){var c=this.d;this.d.f.R()?c.rb("",null,"+delete"):dc(this,function(d){var e=oe(c,d.head,a,b,!1);return 0>a?{b:e,c:d.head}:{b:d.head,c:e}})}),qb:ga(function(a,b){var c=this,d=this.d,e=[],f=!c.display.shift&&!d.extend&&d.f.R();d.ra(function(g){if(f)return 0>
a?g.b():g.c();var k=Fa(c,g.head,"div");null!=g.Ac&&(k.left=g.Ac);e.push(k.left);var l;l=c.d;var n=k.left,m;"page"==b?(m=Math.min(c.display.p.clientHeight,window.innerHeight||document.documentElement.clientHeight),m=k.top+a*(m-(0>a?1.5:.5)*Ca(c.display))):"line"==b&&(m=0<a?k.bottom+3:k.top-3);for(;;){var p=Kc(c,n,m);if(!p.Rd)break;if(0>a?0>=m:m>=l.height){p.Ed=!0;break}m+=5*a}l=p;"page"==b&&g==d.f.I()&&me(c,Ib(c,l,"div").top-k.top);return l},Aa);if(e.length)for(var g=0;g<d.f.e.length;g++)d.f.e[g].Ac=
e[g]}),Rc:function(a){if(null==a||a!=this.state.Xa)(this.state.Xa=!this.state.Xa)?ac(this.display.qa,"CodeMirror-overwrite"):$b(this.display.qa,"CodeMirror-overwrite"),H(this,"overwriteToggle",this,this.state.Xa)},scrollTo:ga(function(a,b){null==a&&null==b||cc(this);null!=a&&(this.i.scrollLeft=a);null!=b&&(this.i.scrollTop=b)}),scrollIntoView:ga(function(a,b){null==a?(a={b:this.d.f.I().head,c:null},null==b&&(b=this.options.kd)):"number"==typeof a?a={b:p(a,0),c:null}:null==a.b&&(a={b:a,c:null});a.c||
(a.c=a.b);a.margin=b||0;if(null!=a.b.a)cc(this),this.i.M=a;else{var c=Mc(this,Math.min(a.b.left,a.c.left),Math.min(a.b.top,a.c.top)-a.margin,Math.max(a.b.right,a.c.right),Math.max(a.b.bottom,a.c.bottom)+a.margin);this.scrollTo(c.scrollLeft,c.scrollTop)}}),Xd:ga(function(a,b){function c(a){return"number"==typeof a||/^\d+$/.test(String(a))?a+"px":a}null!=a&&(this.display.p.style.width=c(a));null!=b&&(this.display.p.style.height=c(b));this.options.B&&Md(this);this.i.Na=!0;H(this,"refresh",this)}),refresh:ga(function(){var a=
this.display.wa;V(this);this.i.Na=!0;wb(this);this.scrollTo(this.d.scrollLeft,this.d.scrollTop);uc(this);(null==a||.5<Math.abs(a-Ca(this.display)))&&nc(this);H(this,"refresh",this)})};Sa(m);var Le=m.Db={},ub=m.pg={},md=m.ke={toString:function(){return"CodeMirror.Init"}};v("value","",function(a,b){a.Yd(b)},!0);v("mode",null,function(a,b){a.d.Ua=b;oc(a)},!0);v("indentUnit",2,oc,!0);v("indentWithTabs",!1);v("smartIndent",!0);v("tabSize",4,function(a){Wa(a);wb(a);V(a)},!0);v("specialChars",/[\t\u0000-\u0019\u00ad\u200b\u2028\u2029\ufeff]/g,
function(a,b){a.options.ae=new RegExp(b.source+(b.test("\t")?"":"|\t"),"g");a.refresh()},!0);v("specialCharPlaceholder",function(a){var b=q("span","\u2022","cm-invalidchar");b.title="\\u"+a.charCodeAt(0).toString(16);return b},function(a){a.refresh()},!0);v("electricChars",!0);v("rtlMoveVisually",!If);v("wholeLineUpdateBefore",!0);v("theme","default",function(a){kd(a);Za(a)},!0);v("keyMap","default",od);v("extraKeys",null);v("lineWrapping",!1,function(a){a.options.B?(ac(a.display.p,"CodeMirror-wrap"),
a.display.Q.style.minWidth=""):($b(a.display.p,"CodeMirror-wrap"),pc(a));nc(a);V(a);wb(a);setTimeout(function(){yb(a)},100)},!0);v("gutters",[],function(a){kc(a.options);Za(a)},!0);v("fixedGutter",!0,function(a,b){a.display.r.style.left=b?wc(a.display)+"px":"0";a.refresh()},!0);v("coverGutterNextToScrollbar",!1,yb,!0);v("lineNumbers",!1,function(a){kc(a.options);Za(a)},!0);v("firstLineNumber",1,Za,!0);v("lineNumberFormatter",function(a){return a},Za,!0);v("showCursorWhenSelecting",!1,Ac,!0);v("resetSelectionOnContextMenu",
!0);v("readOnly",!1,function(a,b){"nocursor"==b?(tb(a),a.display.input.blur(),a.display.disabled=!0):(a.display.disabled=!1,b||ca(a))});v("disableInput",!1,function(a,b){b||ca(a)},!0);v("dragDrop",!0);v("cursorBlinkRate",530);v("cursorScrollMargin",0);v("cursorHeight",1);v("workTime",100);v("workDelay",100);v("flattenSpans",!0,Wa,!0);v("addModeClass",!1,Wa,!0);v("pollInterval",100);v("undoDepth",200,function(a,b){a.d.history.ub=b});v("historyEventDelay",1250);v("viewportMargin",10,function(a){a.refresh()},
!0);v("maxHighlightLength",1E4,Wa,!0);v("moveInputWithCursor",!0,function(a,b){b||(a.display.da.style.top=a.display.da.style.left=0)});v("tabindex",null,function(a,b){a.display.input.tabIndex=b||""});v("autofocus",null);var Je=m.jg={},qb=m.hg={};m.md=function(a,b){m.Db.mode||"null"==a||(m.Db.mode=a);if(2<arguments.length){b.nd=[];for(var c=2;c<arguments.length;++c)b.nd.push(arguments[c])}Je[a]=b};m.ld=function(){qb["text/plain"]="null"};m.Nc=function(a){if("string"==typeof a&&qb.hasOwnProperty(a))a=
qb[a];else if(a&&"string"==typeof a.name&&qb.hasOwnProperty(a.name)){var b=qb[a.name];"string"==typeof b&&(b={name:b});a=Ee(b,a);a.name=b.name}else if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return m.Nc("application/xml");return"string"==typeof a?{name:a}:a||{name:"null"}};m.Kb=function(a,b){b=m.Nc(b);var c=Je[b.name];if(!c)return m.Kb(a,"text/plain");c=c(a,b);if(rb.hasOwnProperty(b.name)){var d=rb[b.name],e;for(e in d)d.hasOwnProperty(e)&&(c.hasOwnProperty(e)&&(c["_"+e]=c[e]),c[e]=
d[e])}c.name=b.name;b.Oa&&(c.Oa=b.Oa);if(b.Hc)for(e in b.Hc)c[e]=b.Hc[e];return c};m.md("null",function(){return{ce:function(a){a.Zd()}}});m.ld();var rb=m.ig={};m.cf=function(a,b){var c=rb.hasOwnProperty(a)?rb[a]:rb[a]={};Ta(b,c)};m.Me=function(a,b){m.prototype[a]=b};m.Le=function(a,b){Q.prototype[a]=b};m.Oe=v;var rc=[];m.Ne=function(a){rc.push(a)};var za=m.Kf={};m.Ud=function(a,b,c){za.hasOwnProperty(a)||(za[a]=m[a]={xb:[]});za[a][b]=c};m.sg=function(a,b,c,d){m.Ud(a,b,d);za[a].xb.push({Td:c,Uc:d})};
var db=m.qc=function(a,b){if(!0===b)return b;if(a.qc)return a.qc(b);var c={},d;for(d in b){var e=b[d];e instanceof Array&&(e=e.concat([]));c[d]=e}return c},Xe=m.sb=function(a,b,c){return a.sb?a.sb(b,c):!0};m.ka=function(a,b){for(;a.ka;){var c=a.ka(b);if(!c||c.mode==a)break;b=c.state;a=c.mode}return c||{mode:a,state:b}};var Yb=m.Ee={Vd:function(a){a.Oc(p(a.first,0),p(a.Z()),Ma)},Ag:function(a){a.Oc(a.Jb("anchor"),a.Jb("head"),Ma)},Zf:function(a){dc(a,function(b){if(b.empty()){var c=s(a.d,b.head.a).text.length;
return b.head.ch==c&&b.head.a<a.Z()?{b:b.head,c:p(b.head.a+1,0)}:{b:b.head,c:p(b.head.a,c)}}return{b:b.b(),c:b.c()}})},We:function(a){dc(a,function(b){return{b:p(b.b().a,0),c:x(a.d,p(b.c().a+1,0))}})},Te:function(a){dc(a,function(a){return{b:p(a.b().a,0),c:a.b()}})},ec:function(a){a.ec()},Yb:function(a){a.Yb()},Tc:function(a){a.Tc()},Jc:function(a){a.Jc()},vf:function(a){a.uc(p(a.first,0))},uf:function(a){a.uc(p(a.Z()))},Cf:function(a){a.ra(function(b){return He(a,b.head.a)},Aa)},Df:function(a){a.ra(function(b){var c=
He(a,b.head.a),d=a.yc(c.a),e=Y(d);return e&&0!=e[0].u?c:(d=Math.max(0,d.text.search(/\S/)),p(c.a,b.head.a==c.a&&b.head.ch<=d&&b.head.ch?0:d))},Aa)},zf:function(a){a.ra(function(b){b=b.head.a;for(var c,d=s(a.d,b);c=ra(d,!1);)d=c.find(1,!0).a,b=null;c=(c=Y(d))?c[0].u%2?Mb(d):Nb(d):d.text.length;return p(null==b?I(d):b,c)},Aa)},Bf:function(a){a.ra(function(b){b=a.mc(b.head,"div").top+5;return a.pc({left:a.display.$.offsetWidth+100,top:b},"div")},Aa)},Af:function(a){a.ra(function(b){b=a.mc(b.head,"div").top+
5;return a.pc({left:0,top:b},"div")},Aa)},Ef:function(a){a.qb(-1,"line")},yf:function(a){a.qb(1,"line")},Gf:function(a){a.qb(-1,"page")},Ff:function(a){a.qb(1,"page")},qf:function(a){a.ma(-1,"char")},rf:function(a){a.ma(1,"char")},sf:function(a){a.ma(-1,"column")},tf:function(a){a.ma(1,"column")},Hf:function(a){a.ma(-1,"word")},xf:function(a){a.ma(1,"group")},wf:function(a){a.ma(-1,"group")},If:function(a){a.ma(1,"word")},Qe:function(a){a.xa(-1,"char")},Pe:function(a){a.xa(1,"char")},Ve:function(a){a.xa(-1,
"word")},Ue:function(a){a.xa(1,"word")},Se:function(a){a.xa(-1,"group")},Re:function(a){a.xa(1,"group")},Mf:function(a){a.jb("smart")},Of:function(a){a.jb("add")},Nf:function(a){a.jb("subtract")},Sf:function(a){a.rb("\t")},Rf:function(a){for(var b=[],c=a.f.e,d=a.options.ha,e=0;e<c.length;e++){var f=c[e].b(),f=ta(a.vd(f.a),f.ch,d);b.push(Array(d-f%d+1).join(" "))}a.Lc(b)},Ke:function(a){a.R()?a.jb("add"):a.execCommand("insertTab")},Fg:function(a){Ba(a,function(){for(var b=a.f.e,c=[],d=0;d<b.length;d++){var e=
b[d].head,f=s(a.d,e.a).text;if(f)if(e.ch==f.length&&(e=new p(e.a,e.ch-1)),0<e.ch)e=new p(e.a,e.ch+1),a.$b(f.charAt(e.ch-1)+f.charAt(e.ch-2),p(e.a,e.ch-2),e,"+transpose");else if(e.a>a.d.first){var g=s(a.d,e.a-1).text;g&&a.$b(f.charAt(0)+"\n"+g.charAt(g.length-1),p(e.a-1,g.length-1),p(e.a,1),"+transpose")}c.push(new B(e,e))}a.Pc(c)})},mg:function(a){Ba(a,function(){for(var b=a.f.e.length,c=0;c<b;c++){var d=a.f.e[c];a.$b("\n",d.anchor,d.head,"+input");a.Gd(d.b().a+1,null,!0);Ea(a)}})},Rc:function(a){a.Rc()}},
da=m.Qa={};da.ye={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"};da.Sd={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-Up":"goDocStart",
"Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",vc:"basic"};da.Md={"Cmd-A":"selectAll",
"Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore",
"Cmd-Backspace":"delLineLeft","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection",vc:["basic","emacsy"]};da.af={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"};da["default"]=
ea?da.Md:da.Sd;var Zb=m.eg=function(a,b,c){function d(b){b=Vc(b);var e=b[a];if(!1===e)return"stop";if(null!=e&&c(e))return!0;if(b.ng)return"stop";b=b.vc;if(null==b)return!1;if("[object Array]"!=Object.prototype.toString.call(b))return d(b);for(e=0;e<b.length;++e){var f=d(b[e]);if(f)return f}return!1}for(var e=0;e<b.length;++e){var f=d(b[e]);if(f)return"stop"!=f}},mf=m.Uf=function(a){a=na[a.keyCode];return"Ctrl"==a||"Alt"==a||"Shift"==a||"Mod"==a},nf=m.Xf=function(a,b){if(S&&34==a.keyCode&&a["char"])return!1;
var c=na[a.keyCode];if(null==c||a.ve)return!1;a.altKey&&(c="Alt-"+c);if(Ie?a.metaKey:a.ctrlKey)c="Ctrl-"+c;if(Ie?a.ctrlKey:a.metaKey)c="Cmd-"+c;!b&&a.shiftKey&&(c="Shift-"+c);return c};m.jf=function(a,b){function c(){a.value=k.zd()}b||(b={});b.value=a.value;!b.dc&&a.dc&&(b.dc=a.dc);!b.placeholder&&a.placeholder&&(b.placeholder=a.placeholder);if(null==b.autofocus){var d=oa();b.autofocus=d==a||null!=a.getAttribute("autofocus")&&d==document.body}if(a.form&&(u(a.form,"submit",c),!b.$f)){var e=a.form,
f=e.submit;try{var g=e.submit=function(){c();e.submit=f;e.submit();e.submit=g}}catch(h){}}a.style.display="none";var k=m(function(b){a.parentNode.insertBefore(b,a.nextSibling)},b);k.save=c;k.pf=function(){return a};k.Eg=function(){c();a.parentNode.removeChild(k.display.p);a.style.display="";a.form&&(ha(a.form,"submit",c),"function"==typeof a.form.submit&&(a.form.submit=f))};return k};var hc=m.qe=function(a,b){this.k=this.start=0;this.Fa=a;this.ha=b||8};hc.prototype={Hb:function(){return this.k>=this.Fa.length},
Zd:function(){this.k=this.Fa.length},match:function(a,b,c){if("string"==typeof a){var d=this.Fa.substr(this.k,a.length);if((c?d.toLowerCase():d)==(c?a.toLowerCase():a))return!1!==b&&(this.k+=a.length),!0}else{if((a=this.Fa.slice(this.k).match(a))&&0<a.index)return null;a&&!1!==b&&(this.k+=a[0].length);return a}},current:function(){return this.Fa.slice(this.start,this.k)}};var Pa=m.re=function(a,b){this.l=[];this.type=b;this.d=a};Sa(Pa);Pa.prototype.clear=function(){if(!this.La){var a=this.d.g,b=a&&
!a.i;b&&Ia(a);if(R(this,"clear")){var c=this.find();c&&D(this,"clear",c.b,c.c)}for(var d=c=null,e=0;e<this.l.length;++e){var f=this.l[e],g=mb(f.s,this);a&&!this.collapsed?Ha(a,I(f),"text"):a&&(null!=g.c&&(d=I(f)),null!=g.b&&(c=I(f)));for(var h=f,k=f.s,l=g,n=void 0,m=0;m<k.length;++m)k[m]!=l&&(n||(n=[])).push(k[m]);h.s=n;null==g.b&&this.collapsed&&!Ya(this.d,f)&&a&&pa(f,Ca(a.display))}if(a&&this.collapsed&&!a.options.B)for(e=0;e<this.l.length;++e)f=Z(this.l[e]),g=xb(f),g>a.display.ta&&(a.display.ea=
f,a.display.ta=g,a.display.sa=!0);null!=c&&a&&this.collapsed&&V(a,c,d+1);this.l.length=0;this.La=!0;this.yb&&this.d.Ia&&(this.d.Ia=!1,a&&Id(a.d));a&&D(a,"markerCleared",a,this);b&&Ja(a);this.parent&&this.parent.clear()}};Pa.prototype.find=function(a,b){null==a&&"bookmark"==this.type&&(a=1);for(var c,d,e=0;e<this.l.length;++e){var f=this.l[e],g=mb(f.s,this);if(null!=g.b&&(c=p(b?f:I(f),g.b),-1==a))return c;if(null!=g.c&&(d=p(b?f:I(f),g.c),1==a))return d}return c&&{b:c,c:d}};Pa.prototype.jc=function(a){if(!this.l.length&&
this.d.g){var b=this.d.g.i;b.pb&&-1!=E(b.pb,this)||(b.Gc||(b.Gc=[])).push(this)}this.l.push(a)};Pa.prototype.od=function(a){this.l.splice(E(this.l,a),1);!this.l.length&&this.d.g&&(a=this.d.g.i,(a.pb||(a.pb=[])).push(this))};var tf=0,gc=m.pe=function(a,b){this.Ca=a;this.I=b;for(var c=0;c<a.length;++c)a[c].parent=this};Sa(gc);gc.prototype.clear=function(){if(!this.La){this.La=!0;for(var a=0;a<this.Ca.length;++a)this.Ca[a].clear();D(this,"clear")}};gc.prototype.find=function(a,b){return this.I.find(a,
b)};var Ke=m.me=function(a,b,c){if(c)for(var d in c)c.hasOwnProperty(d)&&(this[d]=c[d]);this.g=a;this.t=b};Sa(Ke);Ke.prototype.clear=function(){var a=this.g,b=this.a.J,c=this.a,d=I(c);if(null!=d&&b){for(var e=0;e<b.length;++e)b[e]==this&&b.splice(e--,1);b.length||(c.J=null);var f=Od(this);Ba(a,function(){var b=-f;sa(c)<(a.i&&a.i.scrollTop||a.d.scrollTop)&&me(a,b);Ha(a,d,"widget");pa(c,Math.max(0,c.height-f))})}};var Qa=m.le=function(a,b,c){this.text=a;ue(this,b);this.height=c?c(this):1};Sa(Qa);var xf=
{},wf={};nb.prototype={ia:function(){return this.l.length},Zb:function(a,b){for(var c=a,d=a+b;c<d;++c){var e=this.l[c];this.height-=e.height;var f=e;f.parent=null;te(f);D(e,"delete")}this.l.splice(a,b)},collapse:function(a){a.push.apply(a,this.l)},Pb:function(a,b,c){this.height+=c;this.l=this.l.slice(0,a).concat(b).concat(this.l.slice(a));for(a=0;a<b.length;++a)b[a].parent=this},kb:function(a,b,c){for(b=a+b;a<b;++a)if(c(this.l[a]))return!0}};ob.prototype={ia:function(){return this.size},Zb:function(a,
b){this.size-=b;for(var c=0;c<this.children.length;++c){var d=this.children[c],e=d.ia();if(a<e){var f=Math.min(b,e-a),g=d.height;d.Zb(a,f);this.height-=g-d.height;e==f&&(this.children.splice(c--,1),d.parent=null);if(0==(b-=f))break;a=0}else a-=e}25>this.size-b&&(1<this.children.length||!(this.children[0]instanceof nb))&&(c=[],this.collapse(c),this.children=[new nb(c)],this.children[0].parent=this)},collapse:function(a){for(var b=0;b<this.children.length;++b)this.children[b].collapse(a)},Pb:function(a,
b,c){this.size+=b.length;this.height+=c;for(var d=0;d<this.children.length;++d){var e=this.children[d],f=e.ia();if(a<=f){e.Pb(a,b,c);if(e.l&&50<e.l.length){for(;50<e.l.length;)a=e.l.splice(e.l.length-25,25),a=new nb(a),e.height-=a.height,this.children.splice(d+1,0,a),a.parent=this;this.Fc()}break}a-=f}},Fc:function(){if(!(10>=this.children.length)){var a=this;do{var b=a.children.splice(a.children.length-5,5),b=new ob(b);if(a.parent)a.size-=b.size,a.height-=b.height,a.parent.children.splice(E(a.parent.children,
a)+1,0,b);else{var c=new ob(a.children);c.parent=a;a.children=[c,b];a=c}b.parent=a.parent}while(10<a.children.length);a.parent.Fc()}},kb:function(a,b,c){for(var d=0;d<this.children.length;++d){var e=this.children[d],f=e.ia();if(a<f){f=Math.min(b,f-a);if(e.kb(a,f,c))return!0;if(0==(b-=f))break;a=0}else a-=f}}};var Jf=0,Q=m.he=function(a,b,c){if(!(this instanceof Q))return new Q(a,b,c);null==c&&(c=0);ob.call(this,[new nb([new Qa("",null)])]);this.first=c;this.scrollTop=this.scrollLeft=0;this.Ia=!1;
this.nc=1;this.H=c;c=p(c,0);this.f=la(c);this.history=new ic(null);this.id=++Jf;this.Ua=b;"string"==typeof a&&(a=Ka(a));ad(this,{b:c,c:c,text:a});C(this,la(c),Ma)};Q.prototype=Ee(ob.prototype,{constructor:Q,C:function(a,b,c){c?this.kb(a-this.first,b-a,c):this.kb(this.first,this.first+this.size,a)},Ob:function(a,b){for(var c=0,d=0;d<b.length;++d)c+=b[d].height;this.Pb(a-this.first,b,c)},remove:function(a,b){this.Zb(a-this.first,b)},zd:function(a){var b=fd(this,this.first,this.first+this.size);return!1===
a?b:b.join(a||"\n")},Yd:P(function(a){var b=p(this.first,0),c=this.first+this.size-1;La(this,{b:b,c:p(c,s(this,c).text.length),text:Ka(a),origin:"setValue"},!0);C(this,la(b))}),$b:function(a,b,c,d){b=x(this,b);c=c?x(this,c):b;Vb(this,a,b,c,d)},xd:function(a,b,c){a=lb(this,x(this,a),x(this,b));return!1===c?a:a.join(c||"\n")},vd:function(a){return(a=this.yc(a))&&a.text},yc:function(a){if(Db(this,a))return s(this,a)},getLineNumber:function(a){return I(a)},nf:function(a){"number"==typeof a&&(a=s(this,
a));return Z(a)},ag:function(){return this.size},gf:function(){return this.first},Z:function(){return this.first+this.size-1},Bb:function(a){return x(this,a)},Jb:function(a){var b=this.f.I();return null==a||"head"==a?b.head:"anchor"==a?b.anchor:"end"==a||"to"==a||!1===a?b.c():b.b()},dg:function(){return this.f.e},R:function(){return this.f.R()},wg:P(function(a,b,c){a=x(this,"number"==typeof a?p(a,b||0):a);C(this,la(a,null),c)}),Oc:P(function(a,b,c){var d=x(this,a);a=x(this,b||a);C(this,la(d,a),c)}),
uc:P(function(a,b,c){Eb(this,x(this,a),b&&x(this,b),c)}),df:P(function(a){for(var b=[],c=0;c<a.length;c++)b[c]=x(this,a[c]);Bd(this,b)}),ra:P(function(a,b){Bd(this,$c(this.f.e,a),b)}),Pc:P(function(a,b,c){if(a.length){for(var d=0,e=[];d<a.length;d++)e[d]=new B(x(this,a[d].anchor),x(this,a[d].head));null==b&&(b=Math.min(a.length-1,this.f.S));C(this,W(e,b),c)}}),te:P(function(a,b,c){var d=this.f.e.slice(0);d.push(new B(x(this,a),x(this,b||a)));C(this,W(d,d.length-1),c)}),getSelection:function(a){for(var b=
this.f.e,c,d=0;d<b.length;d++){var e=lb(this,b[d].b(),b[d].c());c=c?c.concat(e):e}return!1===a?c:c.join(a||"\n")},of:function(a){for(var b=[],c=this.f.e,d=0;d<c.length;d++){var e=lb(this,c[d].b(),c[d].c());!1!==a&&(e=e.join(a||"\n"));b[d]=e}return b},rb:function(a,b,c){for(var d=[],e=0;e<this.f.e.length;e++)d[e]=a;this.Lc(d,b,c||"+input")},Lc:P(function(a,b,c){for(var d=[],e=this.f,f=0;f<e.e.length;f++){var g=e.e[f];d[f]={b:g.b(),c:g.c(),text:Ka(a[f]),origin:c}}if(f=b&&"end"!=b){f=[];c=a=p(this.first,
0);for(e=0;e<d.length;e++){var h=d[e],g=be(h.b,a,c),k=be(va(h),a,c);a=h.c;c=k;"around"==b?(h=this.f.e[e],h=0>w(h.head,h.anchor),f[e]=new B(h?k:g,h?g:k)):f[e]=new B(g,g)}f=new fa(f,this.f.S)}b=f;for(f=d.length-1;0<=f;f--)La(this,d[f]);b?Dd(this,b):this.g&&Ea(this.g)}),ec:P(function(){bc(this,"undo")}),Yb:P(function(){bc(this,"redo")}),Tc:P(function(){bc(this,"undo",!0)}),Jc:P(function(){bc(this,"redo",!0)}),xg:function(a){this.extend=a},mf:function(){return this.extend},Lf:function(){for(var a=this.history,
b=0,c=0,d=0;d<a.o.length;d++)a.o[d].e||++b;for(d=0;d<a.O.length;d++)a.O[d].e||++c;return{ec:b,Yb:c}},dd:function(){this.history=new ic(this.history.ob)},fg:function(){this.nc=this.bd(!0)},bd:function(a){a&&(this.history.Ba=this.history.Ra=null);return this.history.ca},Tf:function(a){return this.history.ca==(a||this.nc)},ud:function(){return{o:Ra(this.history.o),O:Ra(this.history.O)}},Wd:function(a){var b=this.history=new ic(this.history.ob);b.o=Ra(a.o.slice(0),null,!0);b.O=Ra(a.O.slice(0),null,!0)},
gg:function(a,b,c){return Oa(this,x(this,a),x(this,b),c,"range")},vg:function(a,b){var c={Mc:b&&(null==b.nodeType?b.Hg:b),la:b&&b.la,oc:!1,cc:b&&b.cc};a=x(this,a);return Oa(this,a,a,c,"bookmark")},ff:function(a){a=x(this,a);var b=[],c=s(this,a.a).s;if(c)for(var d=0;d<c.length;++d){var e=c[d];(null==e.b||e.b<=a.ch)&&(null==e.c||e.c>=a.ch)&&b.push(e.j.parent||e.j)}return b},rd:function(a,b,c){a=x(this,a);b=x(this,b);var d=[],e=a.a;this.C(a.a,b.a+1,function(f){if(f=f.s)for(var g=0;g<f.length;g++){var h=
f[g];e==a.a&&a.ch>h.c||null==h.b&&e!=a.a||e==b.a&&h.b>b.ch||c&&!c(h.j)||d.push(h.j.parent||h.j)}++e});return d},kf:function(){var a=[];this.C(function(b){if(b=b.s)for(var c=0;c<b.length;++c)null!=b[c].b&&a.push(b[c].j)});return a},rg:function(a){var b,c=this.first;this.C(function(d){d=d.text.length+1;if(d>a)return b=a,!0;a-=d;++c});return x(this,p(c,b))},Qf:function(a){a=x(this,a);var b=a.ch;if(a.a<this.first||0>a.ch)return 0;this.C(this.first,a.a,function(a){b+=a.text.length+1});return b},Fe:function(a){var b=
new Q(fd(this,this.first,this.first+this.size),this.Ua,this.first);b.scrollTop=this.scrollTop;b.scrollLeft=this.scrollLeft;b.f=this.f;b.extend=!1;a&&(b.history.ub=this.history.ub,b.Wd(this.ud()));return b},cg:function(a){a||(a={});var b=this.first,c=this.first+this.size;null!=a.b&&a.b>b&&(b=a.b);null!=a.c&&a.c<c&&(c=a.c);b=new Q(fd(this,b,c),a.mode||this.Ua,b);a.Za&&(b.history=this.history);(this.X||(this.X=[])).push({d:b,Za:a.Za});b.X=[{d:this,Jd:!0,Za:a.Za}];a=re(this);for(c=0;c<a.length;c++){var d=
a[c],e=d.find(),f=b.Bb(e.b),e=b.Bb(e.c);w(f,e)&&(f=Oa(b,f,e,d.I,d.I.type),d.Ca.push(f),f.parent=d)}return b},de:function(a){a instanceof m&&(a=a.d);if(this.X)for(var b=0;b<this.X.length;++b)if(this.X[b].d==a){this.X.splice(b,1);a.de(this);uf(re(this));break}if(a.history==this.history){var c=[a.id];xa(a,function(a){c.push(a.id)},!0);a.history=new ic(null);a.history.o=Ra(this.history.o,c);a.history.O=Ra(this.history.O,c)}},Wf:function(a){xa(this,a)},Kb:function(){return this.mode},lf:function(){return this.g}});
var Kf=["iter","insert","remove","copy","getEditor"],sb;for(sb in Q.prototype)Q.prototype.hasOwnProperty(sb)&&0>E(Kf,sb)&&(m.prototype[sb]=function(a){return function(){return a.apply(this.d,arguments)}}(Q.prototype[sb]));Sa(Q);var N=m.Ye=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1},Lf=m.$e=function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},Pc=m.Ze=function(a){N(a);Lf(a)},u=m.Qd=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+
b,c):(a=a.U||(a.U={}),(a[b]||(a[b]=[])).push(c))},ha=m.Pd=function(a,b,c){if(a.removeEventListener)a.removeEventListener(b,c,!1);else if(a.detachEvent)a.detachEvent("on"+b,c);else if(a=a.U&&a.U[b])for(b=0;b<a.length;++b)if(a[b]==c){a.splice(b,1);break}},H=m.zg=function(a,b){var c=a.U&&a.U[b];if(c)for(var d=Array.prototype.slice.call(arguments,2),e=0;e<c.length;++e)c[e].apply(null,d)},ma,Ob=0,ia=30,Xd=m.ne={toString:function(){return"CodeMirror.Pass"}},Ma={scroll:!1},Tc={origin:"*mouse"},Aa={origin:"+move"};
mc.prototype.set=function(a,b){clearTimeout(this.id);this.id=setTimeout(b,a)};var ta=m.Ge=function(a,b,c,d,e){null==b&&(b=a.search(/[^\s\u00a0]/),-1==b&&(b=a.length));d=d||0;for(e=e||0;;){var f=a.indexOf("\t",d);if(0>f||f>=b)return e+(b-d);e+=f-d;e+=c-e%c;d=f+1}},jc=[""];Ua?aa=function(a){a.selectionStart=0;a.selectionEnd=a.value.length}:L&&(aa=function(a){try{a.select()}catch(b){}});[].indexOf&&(E=function(a,b){return a.indexOf(b)});[].map&&($c=function(a,b){return a.map(b)});var Mf=/[\u00df\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,
Fe=m.Vf=function(a){return/\w/.test(a)||"\u0080"<a&&(a.toUpperCase()!=a.toLowerCase()||Mf.test(a))},Ef=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,
fb;fb=document.createRange?function(a,b,c){var d=document.createRange();d.setEnd(a,c);d.setStart(a,b);return d}:function(a,b,c){var d=document.body.createTextRange();d.moveToElementText(a.parentNode);d.collapse(!0);d.moveEnd("character",c);d.moveStart("character",b);return d};ba&&(oa=function(){try{return document.activeElement}catch(a){return document.body}});var ld=!1,hf=function(){if(K)return!1;var a=q("div");return"draggable"in a||"dragDrop"in a}(),pb,hd,dd,Ka=m.Cg=3!="\n\nb".split(/\n/).length?
function(a){for(var b=0,c=[],d=a.length;b<=d;){var e=a.indexOf("\n",b);-1==e&&(e=a.length);var f=a.slice(b,"\r"==a.charAt(e-1)?e-1:e),g=f.indexOf("\r");-1!=g?(c.push(f.slice(0,g)),b+=g+1):(c.push(f),b=e+1)}return c}:function(a){return a.split(/\r\n?|\n/)},af=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch(b){return!1}}:function(a){try{var b=a.ownerDocument.selection.createRange()}catch(c){}return b&&b.parentElement()==a?0!=b.compareEndPoints("StartToEnd",b):!1},Qd=
function(){var a=q("div");if("oncopy"in a)return!0;a.setAttribute("oncopy","return;");return"function"==typeof a.oncopy}(),na={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",107:"=",109:"-",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",
219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};m.Yf=na;(function(){for(var a=0;10>a;a++)na[a+48]=na[a+96]=String(a);for(a=65;90>=a;a++)na[a]=String.fromCharCode(a);for(a=1;12>=a;a++)na[a+111]=na[a+63235]="F"+a})();var gb,Cf=function(){function a(a,b,c){this.u=a;this.b=b;this.c=c}var b=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,c=/[stwN]/,d=/[LRr]/,e=/[Lb1n]/,f=/[1n]/;return function(g){if(!b.test(g))return!1;
for(var h=g.length,k=[],l=0,n;l<h;++l)n=g.charCodeAt(l),k.push(247>=n?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(n):1424<=n&&1524>=n?"R":1536<=n&&1773>=n?"rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm".charAt(n-
1536):1774<=n&&2220>=n?"r":8192<=n&&8203>=n?"w":8204==n?"b":"L");for(var l=0,m="L";l<h;++l)n=k[l],"m"==n?k[l]=m:m=n;l=0;for(m="L";l<h;++l)n=k[l],"1"==n&&"r"==m?k[l]="n":d.test(n)&&(m=n,"r"==n&&(k[l]="R"));l=1;for(m=k[0];l<h-1;++l)n=k[l],"+"==n&&"1"==m&&"1"==k[l+1]?k[l]="1":","!=n||m!=k[l+1]||"1"!=m&&"n"!=m||(k[l]=m),m=n;for(l=0;l<h;++l)if(n=k[l],","==n)k[l]="N";else if("%"==n){for(m=l+1;m<h&&"%"==k[m];++m);var p=l&&"!"==k[l-1]||m<h&&"1"==k[m]?"1":"N";for(n=l;n<m;++n)k[n]=p;l=m-1}l=0;for(m="L";l<h;++l)n=
k[l],"L"==m&&"1"==n?k[l]="L":d.test(n)&&(m=n);for(l=0;l<h;++l)if(c.test(k[l])){for(m=l+1;m<h&&c.test(k[m]);++m);n="L"==(m<h?k[m]:"L");p="L"==(l?k[l-1]:"L")||n?"L":"R";for(n=l;n<m;++n)k[n]=p;l=m-1}for(var m=[],q,l=0;l<h;)if(e.test(k[l])){n=l;for(++l;l<h&&e.test(k[l]);++l);m.push(new a(0,n,l))}else{var s=l,p=m.length;for(++l;l<h&&"L"!=k[l];++l);for(n=s;n<l;)if(f.test(k[n])){s<n&&m.splice(p,0,new a(1,s,n));s=n;for(++n;n<l&&f.test(k[n]);++n);m.splice(p,0,new a(2,s,n));s=n}else++n;s<l&&m.splice(p,0,new a(1,
s,l))}1==m[0].u&&(q=g.match(/^\s+/))&&(m[0].b=q[0].length,m.unshift(new a(0,0,q[0].length)));1==z(m).u&&(q=g.match(/\s+$/))&&(z(m).c-=q[0].length,m.push(new a(0,h-q[0].length,h)));m[0].u!=z(m).u&&m.push(new a(m[0].u,h,h));return m}}();m.version="4.2.0";return m});

